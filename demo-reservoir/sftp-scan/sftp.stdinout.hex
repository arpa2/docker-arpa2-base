Analysis of an SFTP session
===========================

Just poking around with "ls" and "cd" a bit.  The stdin and stdout of
the sftp-server is logged and split out below.  There is no secrecy
about any of it, because credentials are handled in the surrounding
shell of OpenSSH.  The SFTP subsystem is just a file sharing protocol.

For information on the format, see the Internet Draft that never made
it to an RFC because, as I understood it, there were two slightly
different versions and the competition between the formats could not
be resolved.

https://tools.ietf.org/html/draft-ietf-secsh-filexfer


> 00000000  00 00 00 05 01 00 00 00  03

SSH_FXP_INIT, no reqid, version 3

< 00000000  00 00 00 96 02 00 00 00  03 00 00 00 18 70 6f 73  |.............pos|
< 00000010  69 78 2d 72 65 6e 61 6d  65 40 6f 70 65 6e 73 73  |ix-rename@openss|
< 00000020  68 2e 63 6f 6d 00 00 00  01 31 00 00 00 13 73 74  |h.com....1....st|
< 00000030  61 74 76 66 73 40 6f 70  65 6e 73 73 68 2e 63 6f  |atvfs@openssh.co|
< 00000040  6d 00 00 00 01 32 00 00  00 14 66 73 74 61 74 76  |m....2....fstatv|
< 00000050  66 73 40 6f 70 65 6e 73  73 68 2e 63 6f 6d 00 00  |fs@openssh.com..|
< 00000060  00 01 32 00 00 00 14 68  61 72 64 6c 69 6e 6b 40  |..2....hardlink@|
< 00000070  6f 70 65 6e 73 73 68 2e  63 6f 6d 00 00 00 01 31  |openssh.com....1|
< 00000080  00 00 00 11 66 73 79 6e  63 40 6f 70 65 6e 73 73  |....fsync@openss|
< 00000090  68 2e 63 6f 6d 00 00 00  01 31

SSH_FXP_VERSION, no reqid, version=3, a couple of extensions (string pairs)


>                                       00 00 00 0a 10 00 00  |................|
> 00000010  00 01 00 00 00 01 2e

SSH_FXP_REALPATH, reqid=1, string len 1 "."

<                                          00 00 00 17 68 00  |h.com....1....h.|
< 000000a0  00 00 01 00 00 00 01 00  00 00 01 2f 00 00 00 01  |.........../....|
< 000000b0  2f 00 00 00 00

SSH_FXP_NAME, reqid=1, 1x
	string len 1, "/"
	attrs


>                                00  00 00 0a 0b 00 00 00 02  |................|
> 00000020  00 00 00 01 2f

SSH_FXP_OPENDIR, reqid=2, string len 1, "/"

<                          00 00 00  0d 66 00 00 00 02 00 00  |/........f......|
< 000000c0  00 04 00 00 00 00

SSH_FXP_HANDLE, reqid=2, string len 4, 0x00,0x00,0x00,0x00


>                          00 00 00  0d 0c 00 00 00 03 00 00  |..../...........|
> 00000030  00 04 00 00 00 00

SSH_FXP_READDIR, reqid=3, handle 4 byte string 0x00,0x00,x00,x00

<                             00 00  0c f7 68 00 00 00 03 00  |..........h.....|
< 000000d0  00 00 1e 00 00 00 04 62  6f 6f 74 00 00 00 3c 64  |.......boot...<d|
< 000000e0  72 77 78 72 2d 78 72 2d  78 20 20 20 20 32 20 72  |rwxr-xr-x    2 r|
< 000000f0  6f 6f 74 20 20 20 20 20  72 6f 6f 74 20 20 20 20  |oot     root    |
< 00000100  20 20 20 20 20 34 30 39  36 20 4e 6f 76 20 31 30  |     4096 Nov 10|
< 00000110  20 31 32 3a 31 37 20 62  6f 6f 74 00 00 00 0f 00  | 12:17 boot.....|
< 00000120  00 00 00 00 00 10 00 00  00 00 00 00 00 00 00 00  |................|
< 00000130  00 41 ed 5e 3d 96 37 5d  c7 ff d6 00 00 00 01 2e  |.A.^=.7]........|
< 00000140  00 00 00 39 64 72 77 78  72 2d 78 72 2d 78 20 20  |...9drwxr-xr-x  |
< 00000150  20 20 31 20 72 6f 6f 74  20 20 20 20 20 72 6f 6f  |  1 root     roo|
< 00000160  74 20 20 20 20 20 20 20  20 20 34 30 39 36 20 46  |t         4096 F|
< 00000170  65 62 20 31 34 20 31 34  3a 35 38 20 2e 00 00 00  |eb 14 14:58 ....|
< 00000180  0f 00 00 00 00 00 00 10  00 00 00 00 00 00 00 00  |................|
< 00000190  00 00 00 41 ed 5e 46 b5  bd 5e 46 b5 88 00 00 00  |...A.^F..^F.....|
< 000001a0  03 73 79 73 00 00 00 3b  64 72 2d 78 72 2d 78 72  |.sys...;dr-xr-xr|
< 000001b0  2d 78 20 20 20 31 33 20  72 6f 6f 74 20 20 20 20  |-x   13 root    |
< 000001c0  20 72 6f 6f 74 20 20 20  20 20 20 20 20 20 20 20  | root           |
< 000001d0  20 30 20 46 65 62 20 31  34 20 31 34 3a 35 38 20  | 0 Feb 14 14:58 |
< 000001e0  73 79 73 00 00 00 0f 00  00 00 00 00 00 00 00 00  |sys.............|
< 000001f0  00 00 00 00 00 00 00 00  00 41 6d 5e 46 b5 88 5e  |.........Am^F..^|
< 00000200  46 b5 88 00 00 00 04 70  72 6f 63 00 00 00 3c 64  |F......proc...<d|
< 00000210  72 2d 78 72 2d 78 72 2d  78 20 20 31 38 32 20 72  |r-xr-xr-x  182 r|
< 00000220  6f 6f 74 20 20 20 20 20  72 6f 6f 74 20 20 20 20  |oot     root    |
< 00000230  20 20 20 20 20 20 20 20  30 20 46 65 62 20 31 34  |        0 Feb 14|
< 00000240  20 31 34 3a 35 38 20 70  72 6f 63 00 00 00 0f 00  | 14:58 proc.....|
< 00000250  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
< 00000260  00 41 6d 5e 46 b5 88 5e  46 b5 88 00 00 00 03 76  |.Am^F..^F......v|
< 00000270  61 72 00 00 00 3b 64 72  77 78 72 2d 78 72 2d 78  |ar...;drwxr-xr-x|
< 00000280  20 20 20 20 31 20 72 6f  6f 74 20 20 20 20 20 72  |    1 root     r|
< 00000290  6f 6f 74 20 20 20 20 20  20 20 20 20 34 30 39 36  |oot         4096|
< 000002a0  20 4a 61 6e 20 31 36 20  31 31 3a 34 30 20 76 61  | Jan 16 11:40 va|
< 000002b0  72 00 00 00 0f 00 00 00  00 00 00 10 00 00 00 00  |r...............|
< 000002c0  00 00 00 00 00 00 00 41  ed 5e 47 e5 10 5e 20 4b  |.......A.^G..^ K|
< 000002d0  97 00 00 00 04 72 6f 6f  74 00 00 00 3c 64 72 77  |.....root...<drw|
< 000002e0  78 2d 2d 2d 2d 2d 2d 20  20 20 20 31 20 72 6f 6f  |x------    1 roo|
< 000002f0  74 20 20 20 20 20 72 6f  6f 74 20 20 20 20 20 20  |t     root      |
< 00000300  20 20 20 34 30 39 36 20  46 65 62 20 31 35 20 31  |   4096 Feb 15 1|
< 00000310  33 3a 32 34 20 72 6f 6f  74 00 00 00 0f 00 00 00  |3:24 root.......|
< 00000320  00 00 00 10 00 00 00 00  00 00 00 00 00 00 00 41  |...............A|
< 00000330  c0 5e 46 8e 9b 5e 47 f0  fc 00 00 00 03 74 6d 70  |.^F..^G......tmp|
< 00000340  00 00 00 3b 64 72 77 78  72 77 78 72 77 74 20 20  |...;drwxrwxrwt  |
< 00000350  20 20 31 20 72 6f 6f 74  20 20 20 20 20 72 6f 6f  |  1 root     roo|
< 00000360  74 20 20 20 20 20 20 20  20 20 34 30 39 36 20 46  |t         4096 F|
< 00000370  65 62 20 31 35 20 31 33  3a 32 34 20 74 6d 70 00  |eb 15 13:24 tmp.|
< 00000380  00 00 0f 00 00 00 00 00  00 10 00 00 00 00 00 00  |................|
< 00000390  00 00 00 00 00 43 ff 5e  47 f0 cf 5e 47 f1 11 00  |.....C.^G..^G...|
< 000003a0  00 00 03 64 65 76 00 00  00 3b 64 72 77 78 72 2d  |...dev...;drwxr-|
< 000003b0  78 72 2d 78 20 20 20 20  35 20 72 6f 6f 74 20 20  |xr-x    5 root  |
< 000003c0  20 20 20 72 6f 6f 74 20  20 20 20 20 20 20 20 20  |   root         |
< 000003d0  20 33 36 30 20 46 65 62  20 31 34 20 31 34 3a 35  | 360 Feb 14 14:5|
< 000003e0  38 20 64 65 76 00 00 00  0f 00 00 00 00 00 00 01  |8 dev...........|
< 000003f0  68 00 00 00 00 00 00 00  00 00 00 41 ed 5e 46 b5  |h..........A.^F.|
< 00000400  88 5e 46 b5 89 00 00 00  05 6d 65 64 69 61 00 00  |.^F......media..|
< 00000410  00 3d 64 72 77 78 72 2d  78 72 2d 78 20 20 20 20  |.=drwxr-xr-x    |
< 00000420  32 20 72 6f 6f 74 20 20  20 20 20 72 6f 6f 74 20  |2 root     root |
< 00000430  20 20 20 20 20 20 20 20  34 30 39 36 20 44 65 63  |        4096 Dec|
< 00000440  20 32 34 20 30 30 3a 30  30 20 6d 65 64 69 61 00  | 24 00:00 media.|
< 00000450  00 00 0f 00 00 00 00 00  00 10 00 00 00 00 00 00  |................|
< 00000460  00 00 00 00 00 41 ed 5e  3d 96 37 5e 01 55 00 00  |.....A.^=.7^.U..|
< 00000470  00 00 03 65 74 63 00 00  00 3b 64 72 77 78 72 2d  |...etc...;drwxr-|
< 00000480  78 72 2d 78 20 20 20 20  31 20 72 6f 6f 74 20 20  |xr-x    1 root  |
< 00000490  20 20 20 72 6f 6f 74 20  20 20 20 20 20 20 20 20  |   root         |
< 000004a0  34 30 39 36 20 46 65 62  20 31 35 20 31 33 3a 32  |4096 Feb 15 13:2|
< 000004b0  34 20 65 74 63 00 00 00  0f 00 00 00 00 00 00 10  |4 etc...........|
< 000004c0  00 00 00 00 00 00 00 00  00 00 00 41 ed 5e 46 ea  |...........A.^F.|
< 000004d0  ce 5e 47 f1 0a 00 00 00  03 6c 69 62 00 00 00 3b  |.^G......lib...;|
< 000004e0  64 72 77 78 72 2d 78 72  2d 78 20 20 20 20 31 20  |drwxr-xr-x    1 |
< 000004f0  72 6f 6f 74 20 20 20 20  20 72 6f 6f 74 20 20 20  |root     root   |
< 00000500  20 20 20 20 20 20 34 30  39 36 20 4a 61 6e 20 31  |      4096 Jan 1|
< 00000510  36 20 31 31 3a 35 32 20  6c 69 62 00 00 00 0f 00  |6 11:52 lib.....|
< 00000520  00 00 00 00 00 10 00 00  00 00 00 00 00 00 00 00  |................|
< 00000530  00 41 ed 5e 46 8e 85 5e  20 4e 8b 00 00 00 03 73  |.A.^F..^ N.....s|
< 00000540  72 76 00 00 00 3b 64 72  77 78 72 2d 78 72 2d 78  |rv...;drwxr-xr-x|
< 00000550  20 20 20 20 32 20 72 6f  6f 74 20 20 20 20 20 72  |    2 root     r|
< 00000560  6f 6f 74 20 20 20 20 20  20 20 20 20 34 30 39 36  |oot         4096|
< 00000570  20 44 65 63 20 32 34 20  30 30 3a 30 30 20 73 72  | Dec 24 00:00 sr|
< 00000580  76 00 00 00 0f 00 00 00  00 00 00 10 00 00 00 00  |v...............|
< 00000590  00 00 00 00 00 00 00 41  ed 5e 3d 96 37 5e 01 55  |.......A.^=.7^.U|
< 000005a0  00 00 00 00 03 72 75 6e  00 00 00 3b 64 72 77 78  |.....run...;drwx|
< 000005b0  72 2d 78 72 2d 78 20 20  20 20 31 20 72 6f 6f 74  |r-xr-x    1 root|
< 000005c0  20 20 20 20 20 72 6f 6f  74 20 20 20 20 20 20 20  |     root       |
< 000005d0  20 20 34 30 39 36 20 46  65 62 20 31 35 20 31 33  |  4096 Feb 15 13|
< 000005e0  3a 32 34 20 72 75 6e 00  00 00 0f 00 00 00 00 00  |:24 run.........|
< 000005f0  00 10 00 00 00 00 00 00  00 00 00 00 00 41 ed 5e  |.............A.^|
< 00000600  46 8e 9a 5e 47 f1 11 00  00 00 03 6d 6e 74 00 00  |F..^G......mnt..|
< 00000610  00 3b 64 72 77 78 72 2d  78 72 2d 78 20 20 20 20  |.;drwxr-xr-x    |
< 00000620  32 20 72 6f 6f 74 20 20  20 20 20 72 6f 6f 74 20  |2 root     root |
< 00000630  20 20 20 20 20 20 20 20  34 30 39 36 20 44 65 63  |        4096 Dec|
< 00000640  20 32 34 20 30 30 3a 30  30 20 6d 6e 74 00 00 00  | 24 00:00 mnt...|
< 00000650  0f 00 00 00 00 00 00 10  00 00 00 00 00 00 00 00  |................|
< 00000660  00 00 00 41 ed 5e 3d 96  37 5e 01 55 00 00 00 00  |...A.^=.7^.U....|
< 00000670  02 2e 2e 00 00 00 3a 64  72 77 78 72 2d 78 72 2d  |......:drwxr-xr-|
< 00000680  78 20 20 20 20 31 20 72  6f 6f 74 20 20 20 20 20  |x    1 root     |
< 00000690  72 6f 6f 74 20 20 20 20  20 20 20 20 20 34 30 39  |root         409|
< 000006a0  36 20 46 65 62 20 31 34  20 31 34 3a 35 38 20 2e  |6 Feb 14 14:58 .|
< 000006b0  2e 00 00 00 0f 00 00 00  00 00 00 10 00 00 00 00  |................|
< 000006c0  00 00 00 00 00 00 00 41  ed 5e 46 b5 bd 5e 46 b5  |.......A.^F..^F.|
< 000006d0  88 00 00 00 03 62 69 6e  00 00 00 3b 64 72 77 78  |.....bin...;drwx|
< 000006e0  72 2d 78 72 2d 78 20 20  20 20 31 20 72 6f 6f 74  |r-xr-x    1 root|
< 000006f0  20 20 20 20 20 72 6f 6f  74 20 20 20 20 20 20 20  |     root       |
< 00000700  20 20 34 30 39 36 20 4a  61 6e 20 31 36 20 31 31  |  4096 Jan 16 11|
< 00000710  3a 33 39 20 62 69 6e 00  00 00 0f 00 00 00 00 00  |:39 bin.........|
< 00000720  00 10 00 00 00 00 00 00  00 00 00 00 00 41 ed 5e  |.............A.^|
< 00000730  3d 96 4d 5e 20 4b 6e 00  00 00 04 68 6f 6d 65 00  |=.M^ Kn....home.|
< 00000740  00 00 3c 64 72 77 78 72  2d 78 72 2d 78 20 20 20  |..<drwxr-xr-x   |
< 00000750  20 32 20 72 6f 6f 74 20  20 20 20 20 72 6f 6f 74  | 2 root     root|
< 00000760  20 20 20 20 20 20 20 20  20 34 30 39 36 20 4e 6f  |         4096 No|
< 00000770  76 20 31 30 20 31 32 3a  31 37 20 68 6f 6d 65 00  |v 10 12:17 home.|
< 00000780  00 00 0f 00 00 00 00 00  00 10 00 00 00 00 00 00  |................|
< 00000790  00 00 00 00 00 41 ed 5e  3d 96 37 5d c7 ff d6 00  |.....A.^=.7]....|
< 000007a0  00 00 03 6f 70 74 00 00  00 3b 64 72 77 78 72 2d  |...opt...;drwxr-|
< 000007b0  78 72 2d 78 20 20 20 20  32 20 72 6f 6f 74 20 20  |xr-x    2 root  |
< 000007c0  20 20 20 72 6f 6f 74 20  20 20 20 20 20 20 20 20  |   root         |
< 000007d0  34 30 39 36 20 44 65 63  20 32 34 20 30 30 3a 30  |4096 Dec 24 00:0|
< 000007e0  30 20 6f 70 74 00 00 00  0f 00 00 00 00 00 00 10  |0 opt...........|
< 000007f0  00 00 00 00 00 00 00 00  00 00 00 41 ed 5e 3d 96  |...........A.^=.|
< 00000800  37 5e 01 55 00 00 00 00  04 73 62 69 6e 00 00 00  |7^.U.....sbin...|
< 00000810  3c 64 72 77 78 72 2d 78  72 2d 78 20 20 20 20 31  |<drwxr-xr-x    1|
< 00000820  20 72 6f 6f 74 20 20 20  20 20 72 6f 6f 74 20 20  | root     root  |
< 00000830  20 20 20 20 20 20 20 34  30 39 36 20 46 65 62 20  |       4096 Feb |
< 00000840  31 34 20 31 32 3a 31 31  20 73 62 69 6e 00 00 00  |14 12:11 sbin...|
< 00000850  0f 00 00 00 00 00 00 10  00 00 00 00 00 00 00 00  |................|
< 00000860  00 00 00 41 ed 5e 46 8e  6e 5e 46 8e 5b 00 00 00  |...A.^F.n^F.[...|
< 00000870  03 75 73 72 00 00 00 3b  64 72 77 78 72 2d 78 72  |.usr...;drwxr-xr|
< 00000880  2d 78 20 20 20 20 31 20  72 6f 6f 74 20 20 20 20  |-x    1 root    |
< 00000890  20 72 6f 6f 74 20 20 20  20 20 20 20 20 20 34 30  | root         40|
< 000008a0  39 36 20 4a 61 6e 20 31  36 20 31 31 3a 34 30 20  |96 Jan 16 11:40 |
< 000008b0  75 73 72 00 00 00 0f 00  00 00 00 00 00 10 00 00  |usr.............|
< 000008c0  00 00 00 00 00 00 00 00  00 41 ed 5e 46 b5 7b 5e  |.........A.^F.{^|
< 000008d0  20 4b 96 00 00 00 05 6c  69 62 36 34 00 00 00 3d  | K.....lib64...=|
< 000008e0  64 72 77 78 72 2d 78 72  2d 78 20 20 20 20 32 20  |drwxr-xr-x    2 |
< 000008f0  72 6f 6f 74 20 20 20 20  20 72 6f 6f 74 20 20 20  |root     root   |
< 00000900  20 20 20 20 20 20 34 30  39 36 20 44 65 63 20 32  |      4096 Dec 2|
< 00000910  34 20 30 30 3a 30 30 20  6c 69 62 36 34 00 00 00  |4 00:00 lib64...|
< 00000920  0f 00 00 00 00 00 00 10  00 00 00 00 00 00 00 00  |................|
< 00000930  00 00 00 41 ed 5e 3d 96  37 5e 01 55 00 00 00 00  |...A.^=.7^.U....|
< 00000940  0a 2e 64 6f 63 6b 65 72  65 6e 76 00 00 00 42 2d  |..dockerenv...B-|
< 00000950  72 77 78 72 2d 78 72 2d  78 20 20 20 20 31 20 72  |rwxr-xr-x    1 r|
< 00000960  6f 6f 74 20 20 20 20 20  72 6f 6f 74 20 20 20 20  |oot     root    |
< 00000970  20 20 20 20 20 20 20 20  30 20 46 65 62 20 31 34  |        0 Feb 14|
< 00000980  20 31 34 3a 35 38 20 2e  64 6f 63 6b 65 72 65 6e  | 14:58 .dockeren|
< 00000990  76 00 00 00 0f 00 00 00  00 00 00 00 00 00 00 00  |v...............|
< 000009a0  00 00 00 00 00 00 00 81  ed 5e 46 b5 88 5e 46 b5  |.........^F..^F.|
< 000009b0  88 00 00 00 0c 52 65 73  65 72 76 6f 69 72 2e 6d  |.....Reservoir.m|
< 000009c0  64 00 00 00 44 2d 72 77  2d 72 2d 2d 72 2d 2d 20  |d...D-rw-r--r-- |
< 000009d0  20 20 20 31 20 72 6f 6f  74 20 20 20 20 20 72 6f  |   1 root     ro|
< 000009e0  6f 74 20 20 20 20 20 20  20 20 31 37 38 38 38 20  |ot        17888 |
< 000009f0  46 65 62 20 20 38 20 30  39 3a 33 37 20 52 65 73  |Feb  8 09:37 Res|
< 00000a00  65 72 76 6f 69 72 2e 6d  64 00 00 00 0f 00 00 00  |ervoir.md.......|
< 00000a10  00 00 00 45 e0 00 00 00  00 00 00 00 00 00 00 81  |...E............|
< 00000a20  a4 5e 3e 81 69 5e 3e 81  69 00 00 00 05 62 75 69  |.^>.i^>.i....bui|
< 00000a30  6c 64 00 00 00 3d 64 72  77 78 72 2d 78 72 2d 78  |ld...=drwxr-xr-x|
< 00000a40  20 20 20 20 31 20 72 6f  6f 74 20 20 20 20 20 72  |    1 root     r|
< 00000a50  6f 6f 74 20 20 20 20 20  20 20 20 20 34 30 39 36  |oot         4096|
< 00000a60  20 46 65 62 20 31 34 20  31 34 3a 35 37 20 62 75  | Feb 14 14:57 bu|
< 00000a70  69 6c 64 00 00 00 0f 00  00 00 00 00 00 10 00 00  |ild.............|
< 00000a80  00 00 00 00 00 00 00 00  00 41 ed 5e 46 b5 7b 5e  |.........A.^F.{^|
< 00000a90  46 b5 6f 00 00 00 18 61  72 70 61 32 2e 72 65 73  |F.o....arpa2.res|
< 00000aa0  65 72 76 6f 69 72 2e 65  67 67 2d 69 6e 66 6f 00  |ervoir.egg-info.|
< 00000ab0  00 00 50 64 72 77 78 72  2d 78 72 2d 78 20 20 20  |..Pdrwxr-xr-x   |
< 00000ac0  20 32 20 72 6f 6f 74 20  20 20 20 20 72 6f 6f 74  | 2 root     root|
< 00000ad0  20 20 20 20 20 20 20 20  20 34 30 39 36 20 46 65  |         4096 Fe|
< 00000ae0  62 20 31 34 20 31 34 3a  35 38 20 61 72 70 61 32  |b 14 14:58 arpa2|
< 00000af0  2e 72 65 73 65 72 76 6f  69 72 2e 65 67 67 2d 69  |.reservoir.egg-i|
< 00000b00  6e 66 6f 00 00 00 0f 00  00 00 00 00 00 10 00 00  |nfo.............|
< 00000b10  00 00 00 00 00 00 00 00  00 41 ed 5e 46 b5 7b 5e  |.........A.^F.{^|
< 00000b20  46 b5 7a 00 00 00 04 64  69 73 74 00 00 00 3c 64  |F.z....dist...<d|
< 00000b30  72 77 78 72 2d 78 72 2d  78 20 20 20 20 31 20 72  |rwxr-xr-x    1 r|
< 00000b40  6f 6f 74 20 20 20 20 20  72 6f 6f 74 20 20 20 20  |oot     root    |
< 00000b50  20 20 20 20 20 34 30 39  36 20 46 65 62 20 31 34  |     4096 Feb 14|
< 00000b60  20 31 34 3a 35 38 20 64  69 73 74 00 00 00 0f 00  | 14:58 dist.....|
< 00000b70  00 00 00 00 00 10 00 00  00 00 00 00 00 00 00 00  |................|
< 00000b80  00 41 ed 5e 46 b5 7b 5e  46 b5 7a 00 00 00 18 61  |.A.^F.{^F.z....a|
< 00000b90  72 70 61 32 2e 73 68 65  6c 6c 2e 61 63 6c 2e 65  |rpa2.shell.acl.e|
< 00000ba0  67 67 2d 69 6e 66 6f 00  00 00 50 64 72 77 78 72  |gg-info...Pdrwxr|
< 00000bb0  2d 78 72 2d 78 20 20 20  20 32 20 72 6f 6f 74 20  |-xr-x    2 root |
< 00000bc0  20 20 20 20 72 6f 6f 74  20 20 20 20 20 20 20 20  |    root        |
< 00000bd0  20 34 30 39 36 20 46 65  62 20 31 34 20 31 34 3a  | 4096 Feb 14 14:|
< 00000be0  35 37 20 61 72 70 61 32  2e 73 68 65 6c 6c 2e 61  |57 arpa2.shell.a|
< 00000bf0  63 6c 2e 65 67 67 2d 69  6e 66 6f 00 00 00 0f 00  |cl.egg-info.....|
< 00000c00  00 00 00 00 00 10 00 00  00 00 00 00 00 00 00 00  |................|
< 00000c10  00 41 ed 5e 46 b5 76 5e  46 b5 75 00 00 00 17 61  |.A.^F.v^F.u....a|
< 00000c20  72 70 61 32 2e 73 68 65  6c 6c 2e 69 64 2e 65 67  |rpa2.shell.id.eg|
< 00000c30  67 2d 69 6e 66 6f 00 00  00 4f 64 72 77 78 72 2d  |g-info...Odrwxr-|
< 00000c40  78 72 2d 78 20 20 20 20  32 20 72 6f 6f 74 20 20  |xr-x    2 root  |
< 00000c50  20 20 20 72 6f 6f 74 20  20 20 20 20 20 20 20 20  |   root         |
< 00000c60  34 30 39 36 20 46 65 62  20 31 34 20 31 34 3a 35  |4096 Feb 14 14:5|
< 00000c70  37 20 61 72 70 61 32 2e  73 68 65 6c 6c 2e 69 64  |7 arpa2.shell.id|
< 00000c80  2e 65 67 67 2d 69 6e 66  6f 00 00 00 0f 00 00 00  |.egg-info.......|
< 00000c90  00 00 00 10 00 00 00 00  00 00 00 00 00 00 00 41  |...............A|
< 00000ca0  ed 5e 46 b5 76 5e 46 b5  70 00 00 00 18 61 72 70  |.^F.v^F.p....arp|
< 00000cb0  61 32 2e 73 68 65 6c 6c  2e 64 6e 73 2e 65 67 67  |a2.shell.dns.egg|
< 00000cc0  2d 69 6e 66 6f 00 00 00  50 64 72 77 78 72 2d 78  |-info...Pdrwxr-x|
< 00000cd0  72 2d 78 20 20 20 20 32  20 72 6f 6f 74 20 20 20  |r-x    2 root   |
< 00000ce0  20 20 72 6f 6f 74 20 20  20 20 20 20 20 20 20 34  |  root         4|
< 00000cf0  30 39 36 20 46 65 62 20  31 34 20 31 34 3a 35 37  |096 Feb 14 14:57|
< 00000d00  20 61 72 70 61 32 2e 73  68 65 6c 6c 2e 64 6e 73  | arpa2.shell.dns|
< 00000d10  2e 65 67 67 2d 69 6e 66  6f 00 00 00 0f 00 00 00  |.egg-info.......|
< 00000d20  00 00 00 10 00 00 00 00  00 00 00 00 00 00 00 41  |...............A|
< 00000d30  ed 5e 46 b5 76 5e 46 b5  6f 00 00 00 14 61 72 70  |.^F.v^F.o....arp|
< 00000d40  61 32 2e 73 68 65 6c 6c  2e 65 67 67 2d 69 6e 66  |a2.shell.egg-inf|
< 00000d50  6f 00 00 00 4c 64 72 77  78 72 2d 78 72 2d 78 20  |o...Ldrwxr-xr-x |
< 00000d60  20 20 20 32 20 72 6f 6f  74 20 20 20 20 20 72 6f  |   2 root     ro|
< 00000d70  6f 74 20 20 20 20 20 20  20 20 20 34 30 39 36 20  |ot         4096 |
< 00000d80  46 65 62 20 31 34 20 31  34 3a 35 37 20 61 72 70  |Feb 14 14:57 arp|
< 00000d90  61 32 2e 73 68 65 6c 6c  2e 65 67 67 2d 69 6e 66  |a2.shell.egg-inf|
< 00000da0  6f 00 00 00 0f 00 00 00  00 00 00 10 00 00 00 00  |o...............|
< 00000db0  00 00 00 00 00 00 00 41  ed 5e 46 b5 76 5e 46 b5  |.......A.^F.v^F.|
< 00000dc0  6f

SSH_FXP_NAME, reqid=3, 30x
	(string filename), (ATTRS attrs)


>                             00 00  00 0d 0c 00 00 00 04 00  |................|
> 00000040  00 00 04 00 00 00 00

SSH_FXP_READDIR, reqid=4, handle 4 bytes string 0x00,0x00,0x00,0x00

<              00 00 00 1c 65 00 00  00 04 00 00 00 01 00 00  |o....e..........|
< 00000dd0  00 0b 45 6e 64 20 6f 66  20 66 69 6c 65 00 00 00  |..End of file...|
< 00000de0  00

SSH_FXP_STATUS, reqid=4, status=1
	mesg string len=11, "End of File"
	lang string len=0, ""


>                                00  00 00 0d 04 00 00 00 05  |................|
> 00000050  00 00 00 04 00 00 00 00

SSH_FXP_READDIR, reqid=5, handle 4 bytes string 0x00,0x00,0x00,0x00

<              00 00 00 18 65 00 00  00 05 00 00 00 00 00 00  |.....e..........|
< 00000df0  00 07 53 75 63 63 65 73  73 00 00 00 00

SSH_FXP_STATUS, reqid=5, status=0
	mesg string len=7, "Success"
	lang string len=0


>                                    00 00 00 0e 10 00 00 00  |................|
> 00000060  06 00 00 00 05 2f 68 6f  6d 65

SSH_FXP_REALPATH, reqid=6, string len 5 "/home"

<                                                   00 00 00  |..Success.......|
< 00000e00  1f 68 00 00 00 06 00 00  00 01 00 00 00 05 2f 68  |.h............/h|
< 00000e10  6f 6d 65 00 00 00 05 2f  68 6f 6d 65 00 00 00 00  |ome..../home....|

SSH_FXP_NAME, reqid=6, 1x
	string len=5, "/home", ATTRS


>                                          00 00 00 0e 11 00  |...../home......|
> 00000070  00 00 07 00 00 00 05 2f  68 6f 6d 65

SSH_FXP_STAT, reqid=7, string len 5 "/home"

< 00000e20  00 00 00 25 69 00 00 00  07 00 00 00 0f 00 00 00  |...%i...........|
< 00000e30  00 00 00 10 00 00 00 00  00 00 00 00 00 00 00 41  |...............A|
< 00000e40  ed 5e 3d 96 37 5d c7 ff  d6

SSH_FXP_ATTRS, reqid=7, TODO


>                                                00 00 00 0e  |......./home....|
> 00000080  0b 00 00 00 08 00 00 00  05 2f 68 6f 6d 65

SSH_FXP_OPENDIR, reqid=8, string len 5, "/home"

<                                       00 00 00 0d 66 00 00  |.^=.7].......f..|
< 00000e50  00 08 00 00 00 04 00 00  00 00

SSH_FXP_HANDLE, reqid=8, string len 4, 0x00,0x00,0x00,0x00


>                                                      00 00  |........./home..|
> 00000090  00 0d 0c 00 00 00 09 00  00 00 04 00 00 00 00

SSH_FXP_READDIR, reqid=9, handle 4 bytes string 0x00,0x00,0x00,0x00

<                                          00 00 00 cf 68 00  |..............h.|
< 00000e60  00 00 09 00 00 00 02 00  00 00 01 2e 00 00 00 39  |...............9|
< 00000e70  64 72 77 78 72 2d 78 72  2d 78 20 20 20 20 32 20  |drwxr-xr-x    2 |
< 00000e80  72 6f 6f 74 20 20 20 20  20 72 6f 6f 74 20 20 20  |root     root   |
< 00000e90  20 20 20 20 20 20 34 30  39 36 20 4e 6f 76 20 31  |      4096 Nov 1|
< 00000ea0  30 20 31 32 3a 31 37 20  2e 00 00 00 0f 00 00 00  |0 12:17 ........|
< 00000eb0  00 00 00 10 00 00 00 00  00 00 00 00 00 00 00 41  |...............A|
< 00000ec0  ed 5e 3d 96 37 5d c7 ff  d6 00 00 00 02 2e 2e 00  |.^=.7]..........|
< 00000ed0  00 00 3a 64 72 77 78 72  2d 78 72 2d 78 20 20 20  |..:drwxr-xr-x   |
< 00000ee0  20 31 20 72 6f 6f 74 20  20 20 20 20 72 6f 6f 74  | 1 root     root|
< 00000ef0  20 20 20 20 20 20 20 20  20 34 30 39 36 20 46 65  |         4096 Fe|
< 00000f00  62 20 31 34 20 31 34 3a  35 38 20 2e 2e 00 00 00  |b 14 14:58 .....|
< 00000f10  0f 00 00 00 00 00 00 10  00 00 00 00 00 00 00 00  |................|
< 00000f20  00 00 00 41 ed 5e 46 b5  bd 5e 46 b5 88

SSH_FXP_NAME, reqid=9, 2x
	string len=1, ".", ATTRS
	...


>                                                         00  |................|
> 000000a0  00 00 0d 0c 00 00 00 0a  00 00 00 04 00 00 00 00  |................|

SSH_FXP_READDIR, reqid=10, handle 4 bytes string 0x00,0x00,0x00,0x00

<                                                   00 00 00  |...A.^F..^F.....|
< 00000f30  1c 65 00 00 00 0a 00 00  00 01 00 00 00 0b 45 6e  |.e............En|
< 00000f40  64 20 6f 66 20 66 69 6c  65 00 00 00 00

SSH_FXP_STATUS, reqid=10, status=1
	mesg string len=11, "End of file"
	lang string len=0, ""


> 000000b0  00 00 00 0d 04 00 00 00  0b 00 00 00 04 00 00 00  |................|
> 000000c0  00

SSH_FXP_CLOSE, reqid=11, handle 4 bytes string 0x00,0x00,0x00,0x00

>              00 00 00 11 10 00 00  00 0c 00 00 00 08 2f 68  |............../h|
> 000000d0  6f 6d 65 2f 2e 2e

<                                                   00 00 00  |d of file.......|
< 00000f50  18 65 00 00 00 0b 00 00  00 00 00 00 00 07 53 75  |.e............Su|
< 00000f60  63 63 65 73 73 00 00 00  00


SSH_FXP_STATUS, reqid=11, status=0
	mesg string len=7, "Success"
	lang string len=0

SSH_FXP_REALPATH, reqid=12, string 8 bytes /home/..

<                                       00 00 00 17 68 00 00  |ccess........h..|
< 00000f70  00 0c 00 00 00 01 00 00  00 01 2f 00 00 00 01 2f  |........../..../|
< 00000f80  00 00 00 00

SSH_FXP_NAME, reqid=12, 1x
	string len=1, "/", ATTRS


>                             00 00  00 0a 11 00 00 00 0d 00  |ome/............|
> 000000e0  00 00 01 2f

SSH_FXP_STAT, reqid=13, string len 1 "/"

<                       00 00 00 25  69 00 00 00 0d 00 00 00  |.......%i.......|
< 00000f90  0f 00 00 00 00 00 00 10  00 00 00 00 00 00 00 00  |................|
< 00000fa0  00 00 00 41 ed 5e 46 b5  bd 5e 46 b5 88

SSH_FXP_ATTRS, reqid=13, TODO


>                       00 00 00 16  07 00 00 00 0e 00 00 00  |.../............|
> 000000f0  0d 2f 52 65 73 65 72 76  6f 69 72 2e 6d 64

SSH_FXP_LSTAT, reqid=14, string len 13 "/Reservoir.md"

<                                                   00 00 00  |...A.^F..^F.....|
< 00000fb0  25 69 00 00 00 0e 00 00  00 0f 00 00 00 00 00 00  |%i..............|
< 00000fc0  45 e0 00 00 00 00 00 00  00 00 00 00 81 a4 5e 3e  |E.............^>|
< 00000fd0  81 69 5e 3e 81 69

SSH_FXP_ATTRS, reqid=14, TODO


>                                                      00 00  |./Reservoir.md..|
> 00000100  00 16 11 00 00 00 0f 00  00 00 0d 2f 52 65 73 65  |.........../Rese|
> 00000110  72 76 6f 69 72 2e 6d 64

SSH_FXP_STAT, reqid=15, string len 13 "/Reservoir.md"

<                             00 00  00 25 69 00 00 00 0f 00  |.i^>.i...%i.....|
< 00000fe0  00 00 0f 00 00 00 00 00  00 45 e0 00 00 00 00 00  |.........E......|
< 00000ff0  00 00 00 00 00 81 a4 5e  3e 81 69 5e 3e 81 69

SSH_FXP_ATTRS, reqid=15, TODO


>                                    00 00 00 1e 03 00 00 00  |rvoir.md........|
> 00000120  10 00 00 00 0d 2f 52 65  73 65 72 76 6f 69 72 2e  |...../Reservoir.|
> 00000130  6d 64 00 00 00 01 00 00  00 00

SSH_FXP_OPEN, reqid=16, string len 13 "/Reservoir.md", uint32=1, uint32=0

<                                                         00  |.......^>.i^>.i.|
< 00001000  00 00 0d 66 00 00 00 10  00 00 00 04 00 00 00 00  |...f............|

SSH_FXP_HANDLE, reqid=16, string len 4, 0x00,0x00,0x00,0x00


>                                          00 00 00 19 05 00  |md..............|
> 00000140  00 00 11 00 00 00 04 00  00 00 00 00 00 00 00 00  |................|
> 00000150  00 00 00 00 00 80 00

SSH_FXP_READ, reqid=17, uint32=4, uint32=0, uint32=0, uint32=0, uint32=0x8000

< 00001010  00 00 45 e9 67 00 00 00  11 00 00 45 e0 23 20 52  |..E.g......E.# R|
< 00001020  45 41 44 4d 45 20 66 6f  72 20 44 6f 63 6b 65 72  |EADME for Docker|
< 00001030  20 49 6d 61 67 65 20 61  72 70 61 32 2f 64 65 6d  | Image arpa2/dem|
< 00001040  6f 2d 72 65 73 65 72 76  6f 69 72 0a 0a 3e 20 2a  |o-reservoir..> *|
< 00001050  54 68 69 73 20 69 73 20  61 20 73 69 6d 70 6c 65  |This is a simple|
< 00001060  2c 20 69 6e 69 74 69 61  6c 20 76 65 72 73 69 6f  |, initial versio|
< 00001070  6e 20 6f 66 20 74 68 65  20 41 52 50 41 32 20 52  |n of the ARPA2 R|
< 00001080  65 73 65 72 76 6f 69 72  0a 3e 20 61 73 20 64 65  |eservoir.> as de|
< 00001090  73 69 67 6e 65 64 20 69  6e 20 74 68 65 20 49 6e  |signed in the In|
< 000010a0  74 65 72 6e 65 74 57 69  64 65 2e 6f 72 67 20 70  |ternetWide.org p|
< 000010b0  72 6f 6a 65 63 74 2c 20  61 6e 64 20 69 6d 70 6c  |roject, and impl|
< 000010c0  65 6d 65 6e 74 65 64 0a  3e 20 69 6e 20 61 20 76  |emented.> in a v|
< 000010d0  61 72 69 65 74 79 20 6f  66 20 41 52 50 41 32 2e  |ariety of ARPA2.|
< 000010e0  6e 65 74 20 70 72 6f 6a  65 63 74 73 2e 20 20 49  |net projects.  I|
< 000010f0  74 20 73 68 6f 75 6c 64  20 73 65 72 76 65 20 61  |t should serve a|
< 00001100  73 20 61 0a 3e 20 62 61  73 69 73 20 66 6f 72 20  |s a.> basis for |
< 00001110  66 75 72 74 68 65 72 20  64 65 76 65 6c 6f 70 6d  |further developm|
< 00001120  65 6e 74 20 61 6e 64 20  6c 61 79 65 72 69 6e 67  |ent and layering|
< 00001130  2e 2a 0a 0a 54 68 69 73  20 63 6f 6e 74 61 69 6e  |.*..This contain|
< 00001140  65 72 20 63 75 72 72 65  6e 74 6c 79 20 68 6f 6c  |er currently hol|
< 00001150  64 73 3a 0a 0a 20 20 2a  20 4f 70 65 6e 4c 44 41  |ds:..  * OpenLDA|
< 00001160  50 2c 20 65 78 70 6f 72  74 65 64 20 6f 6e 20 70  |P, exported on p|
< 00001170  6f 72 74 20 31 33 38 38  2c 20 63 6f 6e 66 69 67  |ort 1388, config|
< 00001180  75 72 65 64 20 66 6f 72  20 52 65 73 65 72 76 6f  |ured for Reservo|
< 00001190  69 72 2e 0a 20 20 2a 20  61 72 70 61 32 73 68 65  |ir..  * arpa2she|
< 000011a0  6c 6c 2c 20 74 68 65 20  6d 65 74 61 2d 73 68 65  |ll, the meta-she|
< 000011b0  6c 6c 20 66 6f 72 20 61  72 70 61 32 78 78 78 20  |ll for arpa2xxx |
< 000011c0  73 75 62 2d 73 68 65 6c  6c 73 2e 0a 20 20 2a 20  |sub-shells..  * |
< 000011d0  61 72 70 61 32 72 65 73  65 72 76 6f 69 72 2c 20  |arpa2reservoir, |
< 000011e0  74 68 65 20 73 75 62 2d  73 68 65 6c 6c 20 66 6f  |the sub-shell fo|
< 000011f0  72 20 72 65 73 6f 75 72  63 65 20 6d 61 6e 61 67  |r resource manag|
< 00001200  65 6d 65 6e 74 2e 0a 20  20 20 20 2a 2a 54 4f 44  |ement..    **TOD|
< 00001210  4f 3a 2a 2a 20 54 68 65  20 6c 61 74 74 65 72 20  |O:** The latter |
< 00001220  64 6f 65 73 20 6e 6f 74  20 69 6e 74 65 67 72 61  |does not integra|
< 00001230  74 65 20 77 69 74 68 20  60 61 72 70 61 32 73 68  |te with `arpa2sh|
< 00001240  65 6c 6c 60 0a 20 20 20  20 61 73 20 69 74 20 64  |ell`.    as it d|
< 00001250  6f 65 73 20 6e 6f 74 20  64 65 72 69 76 65 20 66  |oes not derive f|
< 00001260  72 6f 6d 20 60 61 72 70  61 32 63 6d 64 60 3b 20  |rom `arpa2cmd`; |
< 00001270  69 74 20 69 73 20 65 6e  74 69 72 65 6c 79 0a 20  |it is entirely. |
< 00001280  20 20 20 62 75 69 6c 74  20 66 72 6f 6d 20 73 63  |   built from sc|
< 00001290  72 61 74 63 68 2e 20 20  54 68 61 74 20 6d 61 79  |ratch.  That may|
< 000012a0  20 63 68 61 6e 67 65 20  60 3b 2d 29 60 0a 0a 54  | change `;-)`..T|
< 000012b0  68 65 72 65 20 61 72 65  20 73 65 76 65 72 61 6c  |here are several|
< 000012c0  20 41 52 50 41 32 20 69  64 65 61 20 74 68 61 74  | ARPA2 idea that|
< 000012d0  20 63 6f 75 6c 64 20 62  65 20 61 64 64 65 64 3a  | could be added:|
< 000012e0  0a 0a 20 20 2a 20 57 65  62 44 41 56 20 6f 6e 20  |..  * WebDAV on |
< 000012f0  70 6f 72 74 20 31 37 36  31 20 74 68 72 6f 75 67  |port 1761 throug|
< 00001300  68 20 5b 77 73 67 69 64  61 76 5d 28 68 74 74 70  |h [wsgidav](http|
< 00001310  3a 2f 2f 77 73 67 69 64  61 76 2e 72 65 61 64 74  |://wsgidav.readt|
< 00001320  68 65 64 6f 63 73 2e 69  6f 29 0a 20 20 2a 20 41  |hedocs.io).  * A|
< 00001330  4d 51 50 20 31 2e 30 20  75 70 6c 6f 61 64 20 69  |MQP 1.0 upload i|
< 00001340  6e 74 65 72 66 61 63 65  20 66 6f 72 20 65 78 74  |nterface for ext|
< 00001350  65 72 6e 61 6c 20 75 73  65 72 73 0a 20 20 2a 20  |ernal users.  * |
< 00001360  53 46 54 50 20 61 63 63  65 73 73 3f 20 66 6f 72  |SFTP access? for|
< 00001370  20 60 75 73 65 72 40 64  6f 6d 61 69 6e 2e 6e 61  | `user@domain.na|
< 00001380  6d 65 40 68 6f 73 74 60  20 74 6f 20 61 20 73 69  |me@host` to a si|
< 00001390  6d 75 6c 61 74 65 64 20  74 72 65 65 0a 20 20 2a  |mulated tree.  *|
< 000013a0  20 4c 44 41 50 20 73 75  62 73 63 72 69 70 74 69  | LDAP subscripti|
< 000013b0  6f 6e 3f 20 74 6f 20 28  73 65 6c 65 63 74 69 6f  |on? to (selectio|
< 000013c0  6e 73 20 6f 66 29 20 52  65 73 6f 75 72 63 65 20  |ns of) Resource |
< 000013d0  43 6f 6c 6c 65 63 74 69  6f 6e 73 0a 20 20 2a 20  |Collections.  * |
< 000013e0  41 54 4f 4d 20 72 65 74  72 69 65 76 61 6c 3f 20  |ATOM retrieval? |
< 000013f0  6f 66 20 28 73 65 6c 65  63 74 69 6f 6e 73 20 6f  |of (selections o|
< 00001400  66 29 20 52 65 73 6f 75  72 63 65 20 43 6f 6c 6c  |f) Resource Coll|
< 00001410  65 63 74 69 6f 6e 73 0a  20 20 2a 20 54 68 65 20  |ections.  * The |
< 00001420  53 74 65 61 6d 57 6f 72  6b 73 20 43 72 61 6e 6b  |SteamWorks Crank|
< 00001430  20 74 6f 20 76 69 65 77  20 74 68 65 20 72 65 70  | to view the rep|
< 00001440  6f 73 69 74 6f 72 79 20  76 69 61 20 4a 53 4f 4e  |ository via JSON|
< 00001450  0a 20 20 2a 20 41 20 66  72 6f 6e 74 65 6e 64 20  |.  * A frontend |
< 00001460  74 6f 20 74 68 65 20 53  74 65 61 6d 57 6f 72 6b  |to the SteamWork|
< 00001470  73 20 43 72 61 6e 6b 0a  20 20 2a 20 41 75 74 68  |s Crank.  * Auth|
< 00001480  65 6e 74 69 63 61 74 69  6f 6e 20 74 68 72 6f 75  |entication throu|
< 00001490  67 68 20 54 4c 53 2d 4b  44 48 2c 20 4f 70 65 6e  |gh TLS-KDH, Open|
< 000014a0  53 53 48 2c 20 2e 2e 2e  0a 20 20 2a 20 41 75 74  |SSH, ....  * Aut|
< 000014b0  68 6f 72 69 73 61 74 69  6f 6e 20 6f 66 20 61 63  |horisation of ac|
< 000014c0  74 69 6f 6e 73 20 76 69  61 20 61 72 70 61 32 73  |tions via arpa2s|
< 000014d0  65 72 76 69 63 65 0a 20  20 2a 20 41 6e 20 60 61  |ervice.  * An `a|
< 000014e0  72 70 61 32 61 63 6c 60  20 73 68 65 6c 6c 20 66  |rpa2acl` shell f|
< 000014f0  6f 72 20 41 43 4c 73 20  6f 66 20 52 65 73 6f 75  |or ACLs of Resou|
< 00001500  72 63 65 20 43 6f 6c 6c  65 63 74 69 6f 6e 73 0a  |rce Collections.|
< 00001510  20 20 2a 20 41 20 53 74  65 61 6d 57 6f 72 6b 73  |  * A SteamWorks|
< 00001520  20 50 75 6c 6c 79 20 53  63 72 69 70 74 20 66 6f  | Pully Script fo|
< 00001530  72 20 41 43 4c 20 73 75  62 73 63 72 69 70 74 69  |r ACL subscripti|
< 00001540  6f 6e 0a 20 20 2a 20 41  6e 20 4c 4d 44 42 20 69  |on.  * An LMDB i|
< 00001550  6e 73 74 61 6e 63 65 20  68 6f 6c 64 69 6e 67 20  |nstance holding |
< 00001560  73 75 62 73 63 69 72 62  65 64 20 41 43 4c 20 69  |subscirbed ACL i|
< 00001570  6e 66 6f 72 6d 61 74 69  6f 6e 0a 20 20 2a 20 55  |nformation.  * U|
< 00001580  73 65 73 20 6f 66 20 74  68 65 20 6c 69 62 61 72  |ses of the libar|
< 00001590  70 61 32 73 65 72 76 69  63 65 20 70 61 63 6b 61  |pa2service packa|
< 000015a0  67 65 0a 0a 54 68 65 72  65 20 61 72 65 20 6d 61  |ge..There are ma|
< 000015b0  6e 79 20 74 68 69 6e 67  73 20 6f 70 65 6e 20 66  |ny things open f|
< 000015c0  6f 72 20 74 69 6e 6b 65  72 69 6e 67 3a 0a 0a 20  |or tinkering:.. |
< 000015d0  20 2a 20 47 61 69 6e 69  6e 67 20 65 78 74 65 72  | * Gaining exter|
< 000015e0  6e 61 6c 20 61 63 63 65  73 73 20 74 6f 20 4f 70  |nal access to Op|
< 000015f0  65 6e 4c 44 41 50 20 28  61 6e 64 2c 20 6f 6e 63  |enLDAP (and, onc|
< 00001600  65 20 62 75 69 6c 74 2c  20 60 77 73 67 69 64 61  |e built, `wsgida|
< 00001610  76 60 29 0a 20 20 2a 20  49 6d 70 72 6f 76 69 6e  |v`).  * Improvin|
< 00001620  67 20 74 68 65 20 73 68  65 6c 6c 73 20 69 6e 20  |g the shells in |
< 00001630  61 6e 79 20 77 61 79 20  77 65 20 6c 69 6b 65 0a  |any way we like.|
< 00001640  20 20 2a 20 53 74 61 72  74 20 75 73 69 6e 67 20  |  * Start using |
< 00001650  74 68 65 20 60 63 6d 64  70 61 72 73 65 72 60 20  |the `cmdparser` |
< 00001660  70 61 63 6b 61 67 65 20  69 6e 20 73 68 65 6c 6c  |package in shell|
< 00001670  73 0a 0a 0a 23 23 20 44  65 70 6c 6f 79 20 74 68  |s...## Deploy th|
< 00001680  65 20 49 6d 61 67 65 0a  0a 54 6f 20 62 75 69 6c  |e Image..To buil|
< 00001690  64 20 74 68 69 73 20 69  6d 61 67 65 20 6f 6e 20  |d this image on |
< 000016a0  74 6f 70 20 6f 66 20 74  68 65 20 60 61 72 70 61  |top of the `arpa|
< 000016b0  32 2f 62 61 73 65 60 20  69 6d 61 67 65 3a 0a 0a  |2/base` image:..|
< 000016c0  60 60 60 0a 64 6f 63 6b  65 72 20 62 75 69 6c 64  |```.docker build|
< 000016d0  20 2d 74 20 72 76 20 3c  54 48 49 53 2d 44 49 52  | -t rv <THIS-DIR|
< 000016e0  45 43 54 4f 52 59 3e 0a  60 60 60 0a 0a 54 68 65  |ECTORY>.```..The|
< 000016f0  20 60 73 6c 61 70 64 60  20 69 73 20 6f 6e 20 74  | `slapd` is on t|
< 00001700  68 65 20 6d 61 69 6e 20  74 65 72 6d 69 6e 61 6c  |he main terminal|
< 00001710  2c 20 6f 75 74 70 75 74  69 6e 67 20 74 6f 6e 73  |, outputing tons|
< 00001720  20 6f 66 20 64 65 62 75  67 67 69 6e 67 0a 69 6e  | of debugging.in|
< 00001730  66 6f 72 6d 61 74 69 6f  6e 3b 20 79 6f 75 20 63  |formation; you c|
< 00001740  61 6e 20 61 76 6f 69 64  20 73 65 65 69 6e 67 20  |an avoid seeing |
< 00001750  69 74 20 77 69 74 68 20  74 68 65 20 60 2d 2d 64  |it with the `--d|
< 00001760  65 74 61 63 68 60 20 6f  70 74 69 6f 6e 3a 0a 0a  |etach` option:..|
< 00001770  60 60 60 0a 64 6f 63 6b  65 72 20 72 75 6e 20 2d  |```.docker run -|
< 00001780  2d 64 65 74 61 63 68 20  2d 2d 6e 65 74 77 6f 72  |-detach --networ|
< 00001790  6b 20 68 6f 73 74 20 2d  2d 68 6f 73 74 6e 61 6d  |k host --hostnam|
< 000017a0  65 20 72 65 73 65 72 76  6f 69 72 2e 61 72 70 61  |e reservoir.arpa|
< 000017b0  32 20 2d 70 20 31 33 38  38 3a 31 33 38 38 20 2d  |2 -p 1388:1388 -|
< 000017c0  70 20 31 37 36 31 3a 31  37 36 31 20 2d 70 20 35  |p 1761:1761 -p 5|
< 000017d0  36 37 32 3a 35 36 37 32  20 2d 70 20 32 30 32 30  |672:5672 -p 2020|
< 000017e0  3a 32 32 20 2d 2d 6e 61  6d 65 20 72 76 30 20 72  |:22 --name rv0 r|
< 000017f0  76 0a 60 60 60 0a 0a 59  6f 75 20 63 61 6e 20 73  |v.```..You can s|
< 00001800  74 6f 70 20 61 6e 64 20  73 74 61 72 74 20 69 74  |top and start it|
< 00001810  20 61 74 20 61 6e 79 20  74 69 6d 65 20 75 73 69  | at any time usi|
< 00001820  6e 67 0a 0a 60 60 60 0a  64 6f 63 6b 65 72 20 73  |ng..```.docker s|
< 00001830  74 6f 70 20 72 76 30 0a  64 6f 63 6b 65 72 20 73  |top rv0.docker s|
< 00001840  74 61 72 74 20 72 76 30  0a 60 60 60 0a 0a 41 74  |tart rv0.```..At|
< 00001850  20 73 6f 6d 65 20 70 6f  69 6e 74 2c 20 79 6f 75  | some point, you|
< 00001860  20 77 69 6c 6c 20 77 61  6e 74 20 74 6f 20 66 6f  | will want to fo|
< 00001870  72 67 65 74 20 61 62 6f  75 74 20 74 68 65 20 63  |rget about the c|
< 00001880  6f 6e 74 61 69 6e 65 72  2c 0a 0a 60 60 60 0a 64  |ontainer,..```.d|
< 00001890  6f 63 6b 65 72 20 72 6d  20 72 76 30 0a 60 60 60  |ocker rm rv0.```|
< 000018a0  0a 0a 23 23 20 41 52 50  41 32 20 53 68 65 6c 6c  |..## ARPA2 Shell|
< 000018b0  20 41 63 63 65 73 73 0a  0a 53 68 65 6c 6c 73 20  | Access..Shells |
< 000018c0  66 6f 72 20 70 6f 6b 69  6e 67 20 61 72 6f 75 6e  |for poking aroun|
< 000018d0  64 20 63 61 6e 20 62 65  20 73 74 61 72 74 65 64  |d can be started|
< 000018e0  20 61 73 20 64 65 73 69  72 65 64 3a 0a 0a 60 60  | as desired:..``|
< 000018f0  60 0a 64 6f 63 6b 65 72  20 65 78 65 63 20 2d 74  |`.docker exec -t|
< 00001900  69 20 72 76 30 20 61 72  70 61 32 73 68 65 6c 6c  |i rv0 arpa2shell|
< 00001910  0a 60 60 60 0a 0a 4f 72  2c 20 79 6f 75 20 63 6f  |.```..Or, you co|
< 00001920  75 6c 64 20 75 73 65 20  53 53 48 20 66 72 6f 6d  |uld use SSH from|
< 00001930  20 79 6f 75 72 20 68 6f  73 74 20 61 6e 64 20 72  | your host and r|
< 00001940  65 71 75 65 73 74 20 74  6f 20 73 74 61 72 74 0a  |equest to start.|
< 00001950  74 68 65 20 61 70 70 72  6f 70 72 69 61 74 65 20  |the appropriate |
< 00001960  73 75 62 73 79 73 74 65  6d 3a 0a 0a 60 60 60 0a  |subsystem:..```.|
< 00001970  73 73 68 20 2d 70 20 32  30 32 30 20 2d 73 20 6c  |ssh -p 2020 -s l|
< 00001980  6f 63 61 6c 68 6f 73 74  20 61 72 70 61 32 73 68  |ocalhost arpa2sh|
< 00001990  65 6c 6c 0a 60 60 60 0a  0a 54 68 69 73 20 69 73  |ell.```..This is|
< 000019a0  20 61 20 73 70 65 63 69  61 6c 20 73 68 65 6c 6c  | a special shell|
< 000019b0  20 66 6f 72 20 64 6f 69  6e 67 20 41 52 50 41 32  | for doing ARPA2|
< 000019c0  20 6d 61 6e 69 70 75 6c  61 74 69 6f 6e 73 2e 0a  | manipulations..|
< 000019d0  49 6e 20 66 61 63 74 2c  20 69 74 20 69 73 20 61  |In fact, it is a|
< 000019e0  20 6d 65 74 61 2d 73 68  65 6c 6c 20 74 68 61 74  | meta-shell that|
< 000019f0  20 63 61 6e 20 64 72 6f  70 20 69 6e 20 6f 6e 20  | can drop in on |
< 00001a00  76 61 72 69 6f 75 73 0a  41 52 50 41 32 20 73 75  |various.ARPA2 su|
< 00001a10  62 2d 73 68 65 6c 6c 73  20 61 6e 64 20 61 6c 6c  |b-shells and all|
< 00001a20  6f 77 73 20 73 77 69 74  63 68 69 6e 67 20 62 65  |ows switching be|
< 00001a30  74 77 65 65 6e 20 74 68  65 6d 2e 0a 54 68 69 73  |tween them..This|
< 00001a40  20 69 73 20 6d 6f 72 65  20 70 6f 77 65 72 66 75  | is more powerfu|
< 00001a50  6c 20 74 68 61 6e 20 6a  75 73 74 20 6f 70 65 6e  |l than just open|
< 00001a60  69 6e 67 20 61 20 73 69  6e 67 6c 65 20 73 68 65  |ing a single she|
< 00001a70  6c 6c 2c 0a 0a 60 60 60  0a 64 6f 63 6b 65 72 20  |ll,..```.docker |
< 00001a80  65 78 65 63 20 2d 74 69  20 72 76 30 20 61 72 70  |exec -ti rv0 arp|
< 00001a90  61 32 72 65 73 65 72 76  6f 69 72 0a 60 60 60 0a  |a2reservoir.```.|
< 00001aa0  0a 6f 72 2c 0a 0a 60 60  60 0a 73 73 68 20 2d 70  |.or,..```.ssh -p|
< 00001ab0  20 32 30 32 30 20 2d 73  20 6c 6f 63 61 6c 68 6f  | 2020 -s localho|
< 00001ac0  73 74 20 61 72 70 61 32  72 65 73 65 72 76 6f 69  |st arpa2reservoi|
< 00001ad0  72 0a 60 60 60 0a 0a 59  6f 75 20 63 61 6e 20 67  |r.```..You can g|
< 00001ae0  65 74 20 61 20 6e 6f 72  6d 61 6c 20 73 68 65 6c  |et a normal shel|
< 00001af0  6c 20 77 69 74 68 0a 0a  60 60 60 0a 64 6f 63 6b  |l with..```.dock|
< 00001b00  65 72 20 65 78 65 63 20  2d 74 69 20 72 76 30 20  |er exec -ti rv0 |
< 00001b10  62 61 73 68 0a 60 60 60  0a 0a 49 66 20 79 6f 75  |bash.```..If you|
< 00001b20  20 77 6f 75 6c 64 20 74  6f 20 73 65 74 75 70 20  | would to setup |
< 00001b30  47 4e 55 20 72 65 61 64  6c 69 6e 65 20 66 6f 72  |GNU readline for|
< 00001b40  20 6d 6f 72 65 20 70 6c  65 61 73 61 6e 74 0a 65  | more pleasant.e|
< 00001b50  64 69 74 69 6e 67 2c 20  79 6f 75 20 77 6f 75 6c  |diting, you woul|
< 00001b60  64 20 72 75 6e 20 74 68  69 73 20 6f 6e 20 74 68  |d run this on th|
< 00001b70  65 20 73 68 65 6c 6c 3a  0a 0a 60 60 60 0a 61 72  |e shell:..```.ar|
< 00001b80  70 61 32 67 6e 75 0a 60  60 60 0a 0a 41 6e 64 20  |pa2gnu.```..And |
< 00001b90  69 66 20 79 6f 75 20 77  6f 75 6c 64 20 6c 69 6b  |if you would lik|
< 00001ba0  65 20 74 6f 20 73 77 69  74 63 68 20 74 6f 20 4b  |e to switch to K|
< 00001bb0  65 72 62 65 72 6f 73 20  61 75 74 68 65 6e 74 69  |erberos authenti|
< 00001bc0  63 61 74 69 6f 6e 0a 79  6f 75 20 63 6f 75 6c 64  |cation.you could|
< 00001bd0  20 75 73 65 20 60 64 65  6d 6f 40 41 52 50 41 32  | use `demo@ARPA2|
< 00001be0  2e 4e 45 54 60 20 77 69  74 68 20 70 61 73 73 77  |.NET` with passw|
< 00001bf0  6f 72 64 20 60 73 65 6b  72 65 65 74 60 3a 0a 0a  |ord `sekreet`:..|
< 00001c00  60 60 60 0a 61 72 70 61  32 6b 69 6e 69 74 0a 60  |```.arpa2kinit.`|
< 00001c10  60 60 0a 0a 41 6c 74 65  72 6e 61 74 69 76 65 6c  |``..Alternativel|
< 00001c20  79 2c 20 69 66 20 79 6f  75 20 75 73 65 20 53 53  |y, if you use SS|
< 00001c30  48 20 66 72 6f 6d 20 79  6f 75 72 20 68 6f 73 74  |H from your host|
< 00001c40  20 77 69 74 68 20 4b 65  72 62 65 72 6f 73 0a 61  | with Kerberos.a|
< 00001c50  63 63 65 73 73 20 28 55  4e 54 45 53 54 45 44 29  |ccess (UNTESTED)|
< 00001c60  2c 20 79 6f 75 20 6d 69  67 68 74 20 75 73 65 20  |, you might use |
< 00001c70  79 6f 75 72 20 65 78 69  73 74 69 6e 67 20 73 69  |your existing si|
< 00001c80  6e 67 6c 65 2d 73 69 67  6e 6f 6e 0a 61 63 63 6f  |ngle-signon.acco|
< 00001c90  75 6e 74 20 6f 72 20 74  68 65 20 73 61 6d 65 20  |unt or the same |
< 00001ca0  6f 6e 65 20 61 73 20 61  62 6f 76 65 3a 0a 0a 60  |one as above:..`|
< 00001cb0  60 60 0a 6b 69 6e 69 74  0a 23 6f 72 23 0a 6b 69  |``.kinit.#or#.ki|
< 00001cc0  6e 69 74 20 64 65 6d 6f  40 41 52 50 41 32 2e 4e  |nit demo@ARPA2.N|
< 00001cd0  45 54 0a 60 60 60 0a 0a  54 6f 20 64 72 6f 70 20  |ET.```..To drop |
< 00001ce0  4b 65 72 62 65 72 6f 73  20 69 6e 20 74 68 65 20  |Kerberos in the |
< 00001cf0  63 6f 6e 74 61 69 6e 65  72 2c 20 69 6e 73 74 65  |container, inste|
< 00001d00  61 64 20 72 75 6e 0a 0a  60 60 60 0a 61 72 70 61  |ad run..```.arpa|
< 00001d10  32 6b 69 6e 69 74 20 40  0a 60 60 60 0a 0a 6f 6e  |2kinit @.```..on|
< 00001d20  20 74 68 65 20 68 6f 73  74 20 73 79 73 74 65 6d  | the host system|
< 00001d30  2c 20 79 6f 75 20 77 6f  75 6c 64 20 69 6e 73 74  |, you would inst|
< 00001d40  65 61 64 20 75 73 65 0a  0a 60 60 60 0a 6b 64 65  |ead use..```.kde|
< 00001d50  73 74 72 6f 79 0a 60 60  60 0a 0a 0a 4f 6e 20 74  |stroy.```...On t|
< 00001d60  68 65 20 63 6f 6d 6d 61  6e 64 6c 69 6e 65 20 6f  |he commandline o|
< 00001d70  66 20 74 68 65 20 63 6f  6e 74 61 69 6e 65 72 2c  |f the container,|
< 00001d80  20 79 6f 75 20 63 6f 75  6c 64 20 61 6c 73 6f 20  | you could also |
< 00001d90  72 75 6e 20 74 68 65 20  73 68 65 6c 6c 73 2c 0a  |run the shells,.|
< 00001da0  0a 60 60 60 0a 61 72 70  61 32 72 65 73 65 72 76  |.```.arpa2reserv|
< 00001db0  6f 69 72 0a 61 72 70 61  32 73 68 65 6c 6c 0a 60  |oir.arpa2shell.`|
< 00001dc0  60 60 0a 0a 4e 6f 74 65  20 74 68 61 74 20 74 68  |``..Note that th|
< 00001dd0  65 20 73 65 74 20 6f 66  20 64 6f 6d 61 69 6e 73  |e set of domains|
< 00001de0  20 69 73 20 69 6e 64 65  70 65 6e 64 65 6e 74 20  | is independent |
< 00001df0  66 72 6f 6d 20 74 68 6f  73 65 0a 75 73 65 64 20  |from those.used |
< 00001e00  69 6e 20 49 64 65 6e 74  69 74 79 48 75 62 2e 20  |in IdentityHub. |
< 00001e10  20 54 68 65 79 20 72 65  73 69 64 65 20 69 6e 20  | They reside in |
< 00001e20  64 69 66 66 65 72 65 6e  74 20 70 61 72 74 73 0a  |different parts.|
< 00001e30  6f 66 20 74 68 65 20 74  72 65 65 2c 20 74 6f 20  |of the tree, to |
< 00001e40  68 65 6c 70 20 77 69 74  68 20 73 69 74 75 61 74  |help with situat|
< 00001e50  69 6f 6e 73 20 77 68 65  72 65 20 6e 6f 74 20 61  |ions where not a|
< 00001e60  6c 6c 0a 64 6f 6d 61 69  6e 73 20 68 61 76 65 20  |ll.domains have |
< 00001e70  74 68 65 20 73 61 6d 65  20 73 65 72 76 69 63 65  |the same service|
< 00001e80  2c 20 77 68 65 72 65 20  73 75 62 64 6f 6d 61 69  |, where subdomai|
< 00001e90  6e 73 20 68 61 76 65 0a  61 64 64 69 74 69 6f 6e  |ns have.addition|
< 00001ea0  61 6c 20 73 65 72 76 69  63 65 2c 20 77 68 65 72  |al service, wher|
< 00001eb0  65 20 63 75 73 74 6f 6d  65 72 73 20 74 61 6b 65  |e customers take|
< 00001ec0  20 6f 75 74 20 6f 6e 6c  79 20 6f 6e 65 0a 62 75  | out only one.bu|
< 00001ed0  74 20 6e 6f 74 20 62 6f  74 68 20 74 68 65 20 73  |t not both the s|
< 00001ee0  65 72 76 69 63 65 73 2c  20 61 6e 64 20 73 6f 20  |ervices, and so |
< 00001ef0  6f 6e 2e 0a 0a 0a 23 23  20 55 73 65 20 66 72 6f  |on....## Use fro|
< 00001f00  6d 20 4a 53 4f 4e 0a 0a  54 68 65 72 65 20 69 73  |m JSON..There is|
< 00001f10  20 28 45 41 52 4c 59 29  20 73 75 70 70 6f 72 74  | (EARLY) support|
< 00001f20  20 66 6f 72 20 73 74 61  6e 64 61 72 64 69 73 65  | for standardise|
< 00001f30  64 0a 5b 4a 53 4f 4e 20  6d 65 73 73 61 67 69 6e  |d.[JSON messagin|
< 00001f40  67 20 77 69 74 68 20 74  68 65 20 73 68 65 6c 6c  |g with the shell|
< 00001f50  73 5d 28 68 74 74 70 73  3a 2f 2f 67 69 74 68 75  |s](https://githu|
< 00001f60  62 2e 63 6f 6d 2f 61 72  70 61 32 2f 61 72 70 61  |b.com/arpa2/arpa|
< 00001f70  32 73 68 65 6c 6c 2f 62  6c 6f 62 2f 6d 61 73 74  |2shell/blob/mast|
< 00001f80  65 72 2f 50 52 4f 54 4f  43 4f 4c 2e 4d 44 29 0a  |er/PROTOCOL.MD).|
< 00001f90  66 6f 72 20 77 68 69 63  68 20 77 65 20 73 74 61  |for which we sta|
< 00001fa0  72 74 20 61 6e 20 60 61  72 70 61 32 61 70 69 2e  |rt an `arpa2api.|
< 00001fb0  64 60 20 69 6e 20 74 68  65 0a 62 61 63 6b 67 72  |d` in the.backgr|
< 00001fc0  6f 75 6e 64 2e 20 20 49  66 20 79 6f 75 20 72 75  |ound.  If you ru|
< 00001fd0  6e 20 60 61 72 70 61 32  61 70 69 60 20 61 73 20  |n `arpa2api` as |
< 00001fe0  61 20 63 6f 6d 6d 61 6e  64 2c 20 6f 72 0a 61 73  |a command, or.as|
< 00001ff0  6b 20 53 53 48 20 66 6f  72 20 74 68 61 74 20 73  |k SSH for that s|
< 00002000  75 62 73 79 73 74 65 6d  2c 20 79 6f 75 20 77 69  |ubsystem, you wi|
< 00002010  6c 6c 20 68 61 76 65 20  61 6e 20 69 6e 70 75 74  |ll have an input|
< 00002020  2f 6f 75 74 70 75 74 0a  73 79 73 74 65 6d 20 66  |/output.system f|
< 00002030  6f 72 20 65 78 63 68 61  6e 67 69 6e 67 20 4a 53  |or exchanging JS|
< 00002040  4f 4e 20 70 61 63 6b 61  67 65 73 2e 20 20 54 68  |ON packages.  Th|
< 00002050  65 73 65 20 77 69 6c 6c  20 6c 6f 6f 6b 0a 73 6c  |ese will look.sl|
< 00002060  69 67 68 74 6c 79 20 64  69 66 66 65 72 65 6e 74  |ightly different|
< 00002070  20 66 72 6f 6d 20 74 68  65 20 63 6f 6d 6d 61 6e  | from the comman|
< 00002080  64 6c 69 6e 65 20 66 6f  72 6d 61 74 20 70 72 65  |dline format pre|
< 00002090  73 65 6e 74 65 64 0a 69  6e 20 74 68 65 20 65 78  |sented.in the ex|
< 000020a0  61 6d 70 6c 65 73 20 62  65 6c 6f 77 2c 20 61 73  |amples below, as|
< 000020b0  20 65 78 70 6c 61 69 6e  65 64 20 61 74 20 74 68  | explained at th|
< 000020c0  65 20 6c 69 6e 6b 20 61  62 6f 76 65 2e 0a 0a 49  |e link above...I|
< 000020d0  6e 20 61 64 64 69 74 69  6f 6e 2c 20 74 68 65 72  |n addition, ther|
< 000020e0  65 20 69 73 20 61 6e 20  41 4d 51 50 20 69 6e 74  |e is an AMQP int|
< 000020f0  65 72 66 61 63 65 20 74  6f 20 74 68 65 0a 60 61  |erface to the.`a|
< 00002100  72 70 61 32 61 70 69 64  60 20 77 68 69 63 68 20  |rpa2apid` which |
< 00002110  72 75 6e 73 20 74 68 65  0a 5b 63 6f 6d 70 6c 65  |runs the.[comple|
< 00002120  74 65 20 73 74 61 63 6b  5d 28 68 74 74 70 73 3a  |te stack](https:|
< 00002130  2f 2f 67 69 74 68 75 62  2e 63 6f 6d 2f 61 72 70  |//github.com/arp|
< 00002140  61 32 2f 61 72 70 61 32  73 68 65 6c 6c 2f 62 6c  |a2/arpa2shell/bl|
< 00002150  6f 62 2f 6d 61 73 74 65  72 2f 50 52 4f 54 4f 43  |ob/master/PROTOC|
< 00002160  4f 4c 2e 4d 44 23 61 75  74 68 65 6e 74 69 63 61  |OL.MD#authentica|
< 00002170  74 65 64 2d 6a 73 6f 6e  2d 62 65 74 77 65 65 6e  |ted-json-between|
< 00002180  2d 6d 69 63 72 6f 73 65  72 76 69 63 65 73 29 0a  |-microservices).|
< 00002190  69 6e 20 73 65 72 76 69  63 65 20 6f 66 20 6d 69  |in service of mi|
< 000021a0  63 72 6f 73 65 72 76 69  63 65 73 2e 20 20 54 68  |croservices.  Th|
< 000021b0  6f 73 65 20 6d 69 63 72  6f 73 65 72 76 69 63 65  |ose microservice|
< 000021c0  73 0a 63 6f 75 6c 64 20  72 75 6e 20 74 68 65 69  |s.could run thei|
< 000021d0  72 20 6f 77 6e 20 60 61  72 70 61 32 61 70 69 60  |r own `arpa2api`|
< 000021e0  2c 20 65 69 74 68 65 72  20 61 73 20 61 0a 73 74  |, either as a.st|
< 000021f0  61 6e 64 61 6c 6f 6e 67  20 6f 72 20 74 68 72 6f  |andalong or thro|
< 00002200  75 67 68 20 0a 0a 46 55  54 55 52 45 20 76 65 72  |ugh ..FUTURE ver|
< 00002210  73 69 6f 6e 73 20 77 69  6c 6c 20 75 73 65 20 79  |sions will use y|
< 00002220  6f 75 72 20 63 72 65 64  65 6e 74 69 61 6c 73 20  |our credentials |
< 00002230  66 72 6f 6d 20 74 68 65  20 65 6e 76 69 72 6f 6e  |from the environ|
< 00002240  6d 65 6e 74 0a 74 68 61  74 20 69 6e 76 6f 6b 65  |ment.that invoke|
< 00002250  73 20 74 68 65 20 60 61  72 70 61 32 61 70 69 60  |s the `arpa2api`|
< 00002260  2c 20 73 6f 20 79 6f 75  72 20 68 6f 73 74 20 77  |, so your host w|
< 00002270  68 65 6e 20 79 6f 75 20  63 61 6c 6c 0a 69 74 20  |hen you call.it |
< 00002280  79 6f 75 72 73 65 6c 66  20 6f 72 20 6f 74 68 65  |yourself or othe|
< 00002290  72 77 69 73 65 20 74 68  65 20 53 53 48 20 73 65  |rwise the SSH se|
< 000022a0  73 73 69 6f 6e 20 74 6f  20 74 68 65 20 63 6f 6e  |ssion to the con|
< 000022b0  74 61 69 6e 65 72 2e 0a  54 68 65 73 65 20 63 72  |tainer..These cr|
< 000022c0  65 64 65 6e 74 69 61 6c  73 20 61 72 65 20 70 61  |edentials are pa|
< 000022d0  73 73 65 64 20 6f 6e 20  76 69 61 20 74 68 65 20  |ssed on via the |
< 000022e0  73 74 61 63 6b 20 74 6f  20 74 68 65 0a 60 61 72  |stack to the.`ar|
< 000022f0  70 61 32 61 70 69 64 60  2c 20 77 68 69 63 68 20  |pa2apid`, which |
< 00002300  70 61 73 73 65 73 20 74  68 65 6d 20 6f 6e 20 74  |passes them on t|
< 00002310  6f 20 74 68 65 20 73 68  65 6c 6c 73 2e 20 20 54  |o the shells.  T|
< 00002320  68 65 0a 73 68 65 6c 6c  73 20 66 69 6e 61 6c 6c  |he.shells finall|
< 00002330  79 20 75 73 65 20 74 68  65 20 63 72 65 64 65 6e  |y use the creden|
< 00002340  74 69 61 6c 73 20 66 6f  72 20 61 63 63 65 73 73  |tials for access|
< 00002350  20 63 6f 6e 74 72 6f 6c  20 64 65 63 69 73 69 6f  | control decisio|
< 00002360  6e 73 2e 0a 0a 46 55 54  55 52 45 20 76 65 72 73  |ns...FUTURE vers|
< 00002370  69 6f 6e 73 20 77 69 6c  6c 20 65 78 70 6f 72 74  |ions will export|
< 00002380  20 74 68 65 73 65 20 73  65 72 76 69 63 65 73 2c  | these services,|
< 00002390  20 62 6f 74 68 20 6f 76  65 72 20 53 53 48 20 61  | both over SSH a|
< 000023a0  6e 64 0a 41 4d 51 50 2c  20 74 6f 20 61 6e 79 6f  |nd.AMQP, to anyo|
< 000023b0  6e 65 20 77 68 6f 20 77  61 6e 74 73 20 74 6f 20  |ne who wants to |
< 000023c0  68 61 76 65 20 74 68 65  6d 2e 20 20 57 68 65 74  |have them.  Whet|
< 000023d0  68 65 72 20 74 68 65 79  20 67 65 74 0a 61 6e 79  |her they get.any|
< 000023e0  74 68 69 6e 67 20 64 6f  6e 65 20 77 69 6c 6c 20  |thing done will |
< 000023f0  62 65 20 63 6f 6d 70 6c  65 74 65 6c 79 20 75 70  |be completely up|
< 00002400  20 74 6f 20 61 63 63 65  73 73 20 63 6f 6e 74 72  | to access contr|
< 00002410  6f 6c 2e 20 20 54 68 69  73 0a 5b 62 61 63 6b 62  |ol.  This.[backb|
< 00002420  6f 6e 65 20 69 6e 6e 6f  76 61 74 69 6f 6e 5d 28  |one innovation](|
< 00002430  68 74 74 70 3a 2f 2f 77  77 77 2e 69 6e 74 65 72  |http://www.inter|
< 00002440  6e 65 74 77 69 64 65 2e  6f 72 67 2f 62 6c 6f 67  |netwide.org/blog|
< 00002450  2f 32 30 31 38 2f 31 31  2f 32 32 2f 62 61 63 6b  |/2018/11/22/back|
< 00002460  62 6f 6e 65 2d 69 6e 6e  6f 76 61 74 69 6f 6e 73  |bone-innovations|
< 00002470  2e 68 74 6d 6c 29 0a 61  6c 6c 6f 77 73 20 75 73  |.html).allows us|
< 00002480  20 74 6f 20 61 63 63 65  70 74 20 72 65 71 75 65  | to accept reque|
< 00002490  73 74 73 20 66 72 6f 6d  20 6d 69 63 72 6f 73 65  |sts from microse|
< 000024a0  72 76 69 63 65 73 20 68  6f 73 74 65 64 20 62 79  |rvices hosted by|
< 000024b0  0a 6f 74 68 65 72 73 2c  20 77 68 69 63 68 20 77  |.others, which w|
< 000024c0  65 20 77 69 6c 6c 20 6e  65 65 64 20 69 6e 20 74  |e will need in t|
< 000024d0  68 65 20 75 70 63 6f 6d  69 6e 67 0a 5b 53 65 72  |he upcoming.[Ser|
< 000024e0  76 69 63 65 48 75 62 20  70 68 61 73 65 5d 28 68  |viceHub phase](h|
< 000024f0  74 74 70 3a 2f 2f 69 6e  74 65 72 6e 65 74 77 69  |ttp://internetwi|
< 00002500  64 65 2e 6f 72 67 2f 62  6c 6f 67 2f 32 30 31 36  |de.org/blog/2016|
< 00002510  2f 30 36 2f 32 34 2f 69  77 6f 2d 70 68 61 73 65  |/06/24/iwo-phase|
< 00002520  73 2e 68 74 6d 6c 29 0a  6f 66 20 74 68 65 20 70  |s.html).of the p|
< 00002530  72 6f 6a 65 63 74 2e 0a  0a 0a 23 23 20 55 73 65  |roject....## Use|
< 00002540  20 74 68 65 20 70 72 65  70 61 72 65 64 20 52 65  | the prepared Re|
< 00002550  73 65 72 76 6f 69 72 20  44 6f 6d 61 69 6e 0a 0a  |servoir Domain..|
< 00002560  54 68 65 20 6d 75 73 69  63 20 63 6f 6c 6c 65 63  |The music collec|
< 00002570  74 69 6f 6e 20 66 72 6f  6d 20 74 68 65 20 60 61  |tion from the `a|
< 00002580  72 70 61 32 2f 66 69 6c  65 73 2d 72 65 73 65 72  |rpa2/files-reser|
< 00002590  76 6f 69 72 60 20 44 6f  63 6b 65 72 20 44 65 6d  |voir` Docker Dem|
< 000025a0  6f 20 61 72 65 20 6c 6f  61 64 65 64 0a 69 6e 20  |o are loaded.in |
< 000025b0  60 2f 76 61 72 2f 61 72  70 61 32 2f 72 65 73 65  |`/var/arpa2/rese|
< 000025c0  72 76 6f 69 72 60 20 61  6e 64 20 74 68 65 20 73  |rvoir` and the s|
< 000025d0  68 65 6c 6c 20 60 61 72  70 61 32 72 65 73 65 72  |hell `arpa2reser|
< 000025e0  76 6f 69 72 60 20 75 73  65 73 20 74 68 6f 73 65  |voir` uses those|
< 000025f0  20 61 73 0a 66 69 6c 65  20 73 74 6f 72 65 2c 20  | as.file store, |
< 00002600  77 69 74 68 20 6d 65 74  61 64 61 74 61 20 69 6e  |with metadata in|
< 00002610  20 4c 44 41 50 2e 20 20  54 68 65 20 61 64 64 69  | LDAP.  The addi|
< 00002620  74 69 6f 6e 61 6c 20 6c  69 6e 6b 73 20 61 6e 64  |tional links and|
< 00002630  20 61 20 66 65 77 0a 64  65 73 63 72 69 70 74 69  | a few.descripti|
< 00002640  76 65 20 66 69 6c 65 73  20 66 72 6f 6d 20 74 68  |ve files from th|
< 00002650  65 20 64 65 6d 6f 20 61  72 65 20 69 67 6e 6f 72  |e demo are ignor|
< 00002660  65 64 2e 0a 0a 54 68 65  20 66 6f 6c 6c 6f 77 69  |ed...The followi|
< 00002670  6e 67 20 63 6f 6d 6d 61  6e 64 73 20 63 61 6e 20  |ng commands can |
< 00002680  6e 6f 77 20 62 65 20 74  72 69 65 64 20 74 6f 20  |now be tried to |
< 00002690  73 74 61 72 74 20 61 74  20 74 68 65 0a 64 65 66  |start at the.def|
< 000026a0  61 75 6c 74 20 63 6f 6c  6c 65 63 74 69 6f 6e 20  |ault collection |
< 000026b0  66 6f 72 20 64 6f 6d 61  69 6e 20 60 61 72 70 61  |for domain `arpa|
< 000026c0  32 2e 6f 72 67 60 2c 20  74 68 65 6e 20 66 6f 6c  |2.org`, then fol|
< 000026d0  6c 6f 77 0a 69 6e 64 65  78 20 6c 69 6e 6b 73 2c  |low.index links,|
< 000026e0  20 66 69 72 73 74 20 60  4e 65 67 72 69 6e 60 20  | first `Negrin` |
< 000026f0  74 68 65 6e 20 60 57 68  69 73 70 65 72 69 6e 67  |then `Whispering|
< 00002700  60 2c 20 61 6e 64 20 6c  69 73 74 0a 72 65 73 6f  |`, and list.reso|
< 00002710  75 72 63 65 73 2e 0a 0a  60 60 60 0a 69 6e 64 65  |urces...```.inde|
< 00002720  78 20 64 6f 6d 61 69 6e  20 61 72 70 61 32 2e 6f  |x domain arpa2.o|
< 00002730  72 67 0a 69 6e 64 65 78  20 70 61 74 68 20 4e 65  |rg.index path Ne|
< 00002740  67 72 69 6e 20 57 68 69  73 70 65 72 69 6e 67 0a  |grin Whispering.|
< 00002750  72 65 73 6f 75 72 63 65  20 6c 69 73 74 0a 72 65  |resource list.re|
< 00002760  73 6f 75 72 63 65 20 67  65 74 20 65 66 64 37 61  |source get efd7a|
< 00002770  32 39 39 2d 32 62 33 35  2d 34 35 37 64 2d 38 33  |299-2b35-457d-83|
< 00002780  61 66 2d 32 35 66 64 35  34 36 39 37 65 39 39 0a  |af-25fd54697e99.|
< 00002790  60 60 60 0a 0a 54 68 65  20 6c 61 74 74 65 72 20  |```..The latter |
< 000027a0  64 75 6d 70 73 20 61 20  66 69 6c 65 20 6f 6e 20  |dumps a file on |
< 000027b0  73 74 61 6e 64 61 72 64  20 6f 75 74 70 75 74 2c  |standard output,|
< 000027c0  20 77 68 69 63 68 20 77  65 20 73 68 6f 75 6c 64  | which we should|
< 000027d0  0a 69 6d 70 72 6f 76 65  20 6f 6e 2c 20 62 75 74  |.improve on, but|
< 000027e0  20 69 6e 20 74 68 69 73  20 63 61 73 65 20 69 74  | in this case it|
< 000027f0  20 69 73 20 61 20 73 69  6d 70 6c 65 20 74 65 78  | is a simple tex|
< 00002800  74 20 66 69 6c 65 2c 20  73 6f 20 6e 6f 0a 68 61  |t file, so no.ha|
< 00002810  72 6d 20 64 6f 6e 65 2e  20 20 4e 65 67 72 69 6e  |rm done.  Negrin|
< 00002820  20 68 61 73 20 61 20 68  61 62 69 74 20 6f 66 20  | has a habit of |
< 00002830  75 73 69 6e 67 20 43 72  65 61 74 69 76 65 20 43  |using Creative C|
< 00002840  6f 6d 6d 6f 6e 73 0a 6c  69 63 65 6e 73 65 73 2c  |ommons.licenses,|
< 00002850  20 79 65 74 20 64 65 6c  69 76 65 72 20 69 6e 74  | yet deliver int|
< 00002860  65 72 65 73 74 69 6e 67  20 67 75 69 74 61 72 20  |eresting guitar |
< 00002870  6d 75 73 69 63 20 77 69  74 68 20 63 6c 61 73 73  |music with class|
< 00002880  69 63 61 6c 0a 69 6e 73  70 69 72 61 74 69 6f 6e  |ical.inspiration|
< 00002890  61 6c 20 6c 69 6e 6b 73  2e 20 20 45 6e 6a 6f 79  |al links.  Enjoy|
< 000028a0  21 0a 0a 0a 23 23 20 53  65 74 75 70 20 79 6f 75  |!...## Setup you|
< 000028b0  72 20 6f 77 6e 20 52 65  73 65 72 76 6f 69 72 20  |r own Reservoir |
< 000028c0  44 6f 6d 61 69 6e 0a 0a  4f 6e 63 65 20 6f 6e 20  |Domain..Once on |
< 000028d0  61 6e 20 60 61 72 70 61  32 72 65 73 65 72 76 6f  |an `arpa2reservo|
< 000028e0  69 72 60 20 73 68 65 6c  6c 2c 20 79 6f 75 20 63  |ir` shell, you c|
< 000028f0  61 6e 20 64 6f 20 74 68  69 6e 67 73 20 6c 69 6b  |an do things lik|
< 00002900  65 0a 61 64 64 69 6e 67  20 64 6f 6d 61 69 6e 73  |e.adding domains|
< 00002910  2c 20 52 65 73 6f 75 72  63 65 20 43 6f 6c 6c 65  |, Resource Colle|
< 00002920  63 74 69 6f 6e 73 20 75  6e 64 65 72 6e 65 61 74  |ctions underneat|
< 00002930  68 20 64 6f 6d 61 69 6e  73 2c 0a 61 6e 64 20 73  |h domains,.and s|
< 00002940  69 6e 63 65 20 62 6f 74  68 20 74 68 65 20 64 6f  |ince both the do|
< 00002950  6d 61 69 6e 20 61 6e 64  20 65 61 63 68 20 52 65  |main and each Re|
< 00002960  73 6f 75 72 63 65 20 43  6f 6c 6c 65 63 74 69 6f  |source Collectio|
< 00002970  6e 0a 63 6f 75 6e 74 20  61 73 20 61 20 52 65 73  |n.count as a Res|
< 00002980  6f 75 72 63 65 20 49 6e  64 65 78 2c 20 79 6f 75  |ource Index, you|
< 00002990  20 63 61 6e 20 75 73 65  20 60 69 6e 64 65 78 20  | can use `index |
< 000029a0  61 64 64 60 20 74 6f 0a  6c 69 6e 6b 20 74 6f 20  |add` to.link to |
< 000029b0  61 20 52 65 73 6f 75 72  63 65 20 43 6f 6c 6c 65  |a Resource Colle|
< 000029c0  63 74 69 6f 6e 20 74 68  72 6f 75 67 20 69 74 73  |ction throug its|
< 000029d0  20 55 55 49 44 20 28 73  68 6f 77 6e 0a 73 79 6d  | UUID (shown.sym|
< 000029e0  62 6f 6c 69 63 61 6c 6c  79 20 62 65 6c 6f 77 2c  |bolically below,|
< 000029f0  20 61 73 20 69 74 20 69  73 20 61 20 72 61 6e 64  | as it is a rand|
< 00002a00  6f 6d 20 76 61 6c 75 65  29 2e 20 20 59 6f 75 20  |om value).  You |
< 00002a10  63 61 6e 0a 73 74 61 72  74 20 61 74 20 61 20 64  |can.start at a d|
< 00002a20  6f 6d 61 69 6e 27 73 20  52 65 73 6f 75 72 63 65  |omain's Resource|
< 00002a30  20 49 6e 64 65 78 20 77  69 74 68 20 60 69 6e 64  | Index with `ind|
< 00002a40  65 78 20 64 6f 6d 61 69  6e 60 0a 61 6e 64 20 74  |ex domain`.and t|
< 00002a50  68 65 20 74 72 61 76 65  72 73 65 20 6c 6f 63 61  |he traverse loca|
< 00002a60  6c 6c 79 20 61 64 64 65  64 20 6e 61 6d 65 73 20  |lly added names |
< 00002a70  77 69 74 68 20 60 69 6e  64 65 78 20 70 61 74 68  |with `index path|
< 00002a80  60 2e 0a 54 68 65 72 65  20 6d 61 79 20 62 65 20  |`..There may be |
< 00002a90  63 79 63 6c 65 73 2c 20  73 75 63 68 20 61 73 20  |cycles, such as |
< 00002aa0  74 68 65 20 60 62 75 75  72 6d 61 6e 60 20 62 65  |the `buurman` be|
< 00002ab0  6c 6f 77 20 74 68 61 74  0a 70 6f 69 6e 74 73 20  |low that.points |
< 00002ac0  66 72 6f 6d 20 60 53 6d  69 64 60 20 74 6f 20 60  |from `Smid` to `|
< 00002ad0  42 61 6b 6b 65 72 60 20  61 6e 64 20 62 61 63 6b  |Bakker` and back|
< 00002ae0  20 61 67 61 69 6e 2e 20  20 54 68 65 0a 70 61 74  | again.  The.pat|
< 00002af0  68 73 20 61 72 65 20 61  6c 77 61 79 73 20 66 69  |hs are always fi|
< 00002b00  6e 69 74 65 2d 73 69 7a  65 64 20 73 6f 20 79 6f  |nite-sized so yo|
< 00002b10  75 20 63 61 6e 20 6d 61  6b 65 20 61 6e 79 0a 73  |u can make any.s|
< 00002b20  74 65 70 73 20 74 68 61  74 20 73 65 65 6d 20 67  |teps that seem g|
< 00002b30  6f 6f 64 2e 0a 0a 60 60  60 0a 64 6f 6d 61 69 6e  |ood...```.domain|
< 00002b40  20 61 64 64 20 6f 72 76  65 6c 74 65 2e 6e 65 70  | add orvelte.nep|
< 00002b50  0a 63 6f 6c 6c 65 63 74  69 6f 6e 20 61 64 64 20  |.collection add |
< 00002b60  6f 72 76 65 6c 74 65 2e  6e 65 70 20 41 6d 62 61  |orvelte.nep Amba|
< 00002b70  63 68 74 65 6e 0a 63 6f  6c 6c 65 63 74 69 6f 6e  |chten.collection|
< 00002b80  20 61 64 64 20 6f 72 76  65 6c 74 65 2e 6e 65 70  | add orvelte.nep|
< 00002b90  20 4b 75 6e 73 74 65 6e  61 61 72 73 0a 63 6f 6c  | Kunstenaars.col|
< 00002ba0  6c 65 63 74 69 6f 6e 20  61 64 64 20 6f 72 76 65  |lection add orve|
< 00002bb0  6c 74 65 2e 6e 65 70 20  42 61 6b 6b 65 72 0a 63  |lte.nep Bakker.c|
< 00002bc0  6f 6c 6c 65 63 74 69 6f  6e 20 61 64 64 20 6f 72  |ollection add or|
< 00002bd0  76 65 6c 74 65 2e 6e 65  70 20 42 72 6f 6f 64 0a  |velte.nep Brood.|
< 00002be0  63 6f 6c 6c 65 63 74 69  6f 6e 20 61 64 64 20 6f  |collection add o|
< 00002bf0  72 76 65 6c 74 65 2e 6e  65 70 20 42 61 6e 6b 65  |rvelte.nep Banke|
< 00002c00  74 0a 63 6f 6c 6c 65 63  74 69 6f 6e 20 61 64 64  |t.collection add|
< 00002c10  20 6f 72 76 65 6c 74 65  2e 6e 65 70 20 53 6d 69  | orvelte.nep Smi|
< 00002c20  64 0a 63 6f 6c 6c 65 63  74 69 6f 6e 20 61 64 64  |d.collection add|
< 00002c30  20 6f 72 76 65 6c 74 65  2e 6e 65 70 20 48 6f 65  | orvelte.nep Hoe|
< 00002c40  66 69 6a 7a 65 72 73 0a  63 6f 6c 6c 65 63 74 69  |fijzers.collecti|
< 00002c50  6f 6e 20 61 64 64 20 6f  72 76 65 6c 74 65 2e 6e  |on add orvelte.n|
< 00002c60  65 70 20 53 63 68 69 6c  64 65 6e 0a 63 6f 6c 6c  |ep Schilden.coll|
< 00002c70  65 63 74 69 6f 6e 20 61  64 64 20 6f 72 76 65 6c  |ection add orvel|
< 00002c80  74 65 2e 6e 65 70 20 5a  77 61 61 72 64 65 6e 0a  |te.nep Zwaarden.|
< 00002c90  69 6e 64 65 78 20 64 6f  6d 61 69 6e 20 6f 72 76  |index domain orv|
< 00002ca0  65 6c 74 65 2e 6e 65 70  0a 69 6e 64 65 78 20 61  |elte.nep.index a|
< 00002cb0  64 64 20 7b 55 55 49 44  5f 4b 75 6e 73 74 65 6e  |dd {UUID_Kunsten|
< 00002cc0  61 61 72 73 7d 20 6b 75  6e 73 74 0a 69 6e 64 65  |aars} kunst.inde|
< 00002cd0  78 20 61 64 64 20 7b 55  55 49 44 5f 41 6d 62 61  |x add {UUID_Amba|
< 00002ce0  63 68 74 65 6e 7d 20 61  6d 62 61 63 68 74 0a 69  |chten} ambacht.i|
< 00002cf0  6e 64 65 78 20 70 61 74  68 20 6b 75 6e 73 74 0a  |ndex path kunst.|
< 00002d00  69 6e 64 65 78 20 61 64  64 20 7b 55 55 49 44 5f  |index add {UUID_|
< 00002d10  53 63 68 69 6c 64 65 6e  7d 20 73 63 68 69 6c 64  |Schilden} schild|
< 00002d20  65 6e 0a 69 6e 64 65 78  20 61 64 64 20 7b 55 55  |en.index add {UU|
< 00002d30  49 44 5f 5a 77 61 61 72  64 65 6e 7d 20 7a 77 61  |ID_Zwaarden} zwa|
< 00002d40  61 72 64 65 6e 0a 69 6e  64 65 78 20 61 64 64 20  |arden.index add |
< 00002d50  7b 55 55 49 44 5f 42 61  6e 6b 65 74 7d 20 62 61  |{UUID_Banket} ba|
< 00002d60  6e 6b 65 74 0a 69 6e 64  65 78 20 61 64 64 20 7b  |nket.index add {|
< 00002d70  55 55 49 44 5f 42 61 6b  6b 65 72 7d 20 62 61 6b  |UUID_Bakker} bak|
< 00002d80  6b 65 72 0a 69 6e 64 65  78 20 61 64 64 20 7b 55  |ker.index add {U|
< 00002d90  55 49 44 5f 53 6d 69 64  7d 20 73 6d 69 64 0a 69  |UID_Smid} smid.i|
< 00002da0  6e 64 65 64 20 64 6f 6d  61 69 6e 20 6f 72 76 65  |nded domain orve|
< 00002db0  6c 74 65 2e 6e 65 70 0a  69 6e 64 65 78 20 70 61  |lte.nep.index pa|
< 00002dc0  74 68 20 61 6d 62 61 63  68 74 0a 69 6e 64 65 78  |th ambacht.index|
< 00002dd0  20 61 64 64 20 7b 55 55  49 44 5f 53 63 68 69 6c  | add {UUID_Schil|
< 00002de0  64 65 6e 7d 20 73 63 68  69 6c 64 65 6e 0a 69 6e  |den} schilden.in|
< 00002df0  64 65 78 20 61 64 64 20  7b 55 55 49 44 5f 5a 77  |dex add {UUID_Zw|
< 00002e00  61 61 72 64 65 6e 7d 20  7a 77 61 61 72 64 65 6e  |aarden} zwaarden|
< 00002e10  0a 69 6e 64 65 78 20 61  64 64 20 7b 55 55 49 44  |.index add {UUID|
< 00002e20  5f 48 6f 65 66 69 6a 7a  65 72 73 7d 20 68 6f 65  |_Hoefijzers} hoe|
< 00002e30  66 69 6a 7a 65 72 73 0a  69 6e 64 65 78 20 61 64  |fijzers.index ad|
< 00002e40  64 20 7b 55 55 49 44 5f  42 72 6f 6f 64 7d 20 62  |d {UUID_Brood} b|
< 00002e50  72 6f 6f 64 0a 69 6e 64  65 78 20 61 64 64 20 7b  |rood.index add {|
< 00002e60  55 55 49 44 5f 42 61 6e  6b 65 74 7d 20 62 61 6e  |UUID_Banket} ban|
< 00002e70  6b 65 74 0a 69 6e 64 65  78 20 61 64 64 20 7b 55  |ket.index add {U|
< 00002e80  55 49 44 5f 42 61 6b 6b  65 72 7d 20 62 61 6b 6b  |UID_Bakker} bakk|
< 00002e90  65 72 0a 69 6e 64 65 78  20 61 64 64 20 7b 55 55  |er.index add {UU|
< 00002ea0  49 44 5f 53 6d 69 64 7d  20 73 6d 69 64 0a 69 6e  |ID_Smid} smid.in|
< 00002eb0  64 65 78 20 64 6f 6d 61  69 6e 20 6f 72 76 65 6c  |dex domain orvel|
< 00002ec0  74 65 2e 6e 65 70 0a 69  6e 64 65 78 20 63 6f 6c  |te.nep.index col|
< 00002ed0  6c 65 63 74 69 6f 6e 20  7b 55 55 49 44 5f 53 6d  |lection {UUID_Sm|
< 00002ee0  69 64 7d 0a 69 6e 64 65  78 20 61 64 64 20 7b 55  |id}.index add {U|
< 00002ef0  55 49 44 5f 53 63 68 69  6c 64 65 6e 7d 20 73 63  |UID_Schilden} sc|
< 00002f00  68 69 6c 64 65 6e 0a 69  6e 64 65 78 20 61 64 64  |hilden.index add|
< 00002f10  20 7b 55 55 49 44 5f 5a  77 61 61 72 64 65 6e 7d  | {UUID_Zwaarden}|
< 00002f20  20 7a 77 61 61 72 64 65  6e 0a 69 6e 64 65 78 20  | zwaarden.index |
< 00002f30  61 64 64 20 7b 55 55 49  44 5f 48 6f 65 66 69 6a  |add {UUID_Hoefij|
< 00002f40  7a 65 72 73 7d 20 68 6f  65 66 69 6a 7a 65 72 73  |zers} hoefijzers|
< 00002f50  0a 69 6e 64 65 78 20 61  64 64 20 7b 55 55 49 44  |.index add {UUID|
< 00002f60  5f 42 61 6b 6b 65 72 7d  20 62 75 75 72 6d 61 6e  |_Bakker} buurman|
< 00002f70  0a 69 6e 64 65 78 20 61  64 64 20 7b 55 55 49 44  |.index add {UUID|
< 00002f80  5f 4b 75 6e 73 74 65 6e  61 61 72 73 7d 20 6b 75  |_Kunstenaars} ku|
< 00002f90  6e 73 74 0a 69 6e 64 65  78 20 61 64 64 20 7b 55  |nst.index add {U|
< 00002fa0  55 49 44 5f 41 6d 62 61  63 68 74 65 6e 7d 20 61  |UID_Ambachten} a|
< 00002fb0  6d 62 61 63 68 74 0a 69  6e 64 65 78 20 70 61 74  |mbacht.index pat|
< 00002fc0  68 20 62 75 75 72 6d 61  6e 0a 69 6e 64 65 78 20  |h buurman.index |
< 00002fd0  61 64 64 20 7b 55 55 49  44 5f 42 72 6f 6f 64 7d  |add {UUID_Brood}|
< 00002fe0  20 62 72 6f 6f 64 0a 69  6e 64 65 78 20 61 64 64  | brood.index add|
< 00002ff0  20 7b 55 55 49 44 5f 42  61 6e 6b 65 74 7d 20 62  | {UUID_Banket} b|
< 00003000  61 6e 6b 65 74 0a 69 6e  64 65 78 20 61 64 64 20  |anket.index add |
< 00003010  7b 55 55 49 44 5f 53 6d  69 64 7d 20 62 75 75 72  |{UUID_Smid} buur|
< 00003020  6d 61 6e 0a 69 6e 64 65  78 20 61 64 64 20 7b 55  |man.index add {U|
< 00003030  55 49 44 5f 4b 75 6e 73  74 65 6e 61 61 72 73 7d  |UID_Kunstenaars}|
< 00003040  20 6b 75 6e 73 74 0a 69  6e 64 65 78 20 61 64 64  | kunst.index add|
< 00003050  20 7b 55 55 49 44 5f 41  6d 62 61 63 68 74 65 6e  | {UUID_Ambachten|
< 00003060  7d 20 61 6d 62 61 63 68  74 0a 69 6e 64 65 78 20  |} ambacht.index |
< 00003070  64 6f 6d 61 69 6e 20 6f  72 76 65 6c 74 65 2e 6e  |domain orvelte.n|
< 00003080  65 70 0a 69 6e 64 65 78  20 70 61 74 68 20 6b 75  |ep.index path ku|
< 00003090  6e 73 74 20 62 61 6b 6b  65 72 20 62 72 6f 6f 64  |nst bakker brood|
< 000030a0  0a 72 65 73 6f 75 72 63  65 20 61 64 64 20 66 69  |.resource add fi|
< 000030b0  6c 65 3d 2f 74 6d 70 2f  72 65 63 65 70 74 2d 6b  |le=/tmp/recept-k|
< 000030c0  72 65 6e 74 65 6d 69 6b  2e 74 78 74 20 74 79 70  |rentemik.txt typ|
< 000030d0  65 3d 74 65 78 74 2f 70  6c 61 69 6e 20 6e 61 6d  |e=text/plain nam|
< 000030e0  65 3d 52 65 63 65 70 74  5f 4b 72 65 6e 74 65 6d  |e=Recept_Krentem|
< 000030f0  69 6b 0a 60 60 60 0a 0a  4d 61 6b 65 20 73 75 72  |ik.```..Make sur|
< 00003100  65 20 74 6f 20 68 69 74  20 60 3c 74 61 62 3e 60  |e to hit `<tab>`|
< 00003110  20 6f 66 74 65 6e 2c 20  69 74 20 73 68 6f 75 6c  | often, it shoul|
< 00003120  64 20 77 6f 72 6b 20 72  65 61 6c 6c 79 0a 70 6c  |d work really.pl|
< 00003130  65 61 73 61 6e 74 6c 79  2e 20 20 55 73 65 20 60  |easantly.  Use `|
< 00003140  3f 63 6f 6d 6d 61 6e 64  60 20 6f 72 20 60 68 65  |?command` or `he|
< 00003150  6c 70 20 63 6f 6d 6d 61  6e 64 60 20 74 6f 20 69  |lp command` to i|
< 00003160  6e 71 75 69 72 65 0a 61  62 6f 75 74 20 61 20 73  |nquire.about a s|
< 00003170  70 65 63 69 66 69 63 20  63 6f 6d 6d 61 6e 64 27  |pecific command'|
< 00003180  73 20 73 79 6e 74 61 78  2e 0a 0a 59 6f 75 20 63  |s syntax...You c|
< 00003190  61 6e 20 61 6c 73 6f 20  75 73 65 20 74 68 65 20  |an also use the |
< 000031a0  60 61 72 70 61 32 61 63  6c 60 20 73 68 65 6c 6c  |`arpa2acl` shell|
< 000031b0  20 74 6f 20 73 65 74 20  74 68 65 20 41 43 4c 20  | to set the ACL |
< 000031c0  66 6f 72 0a 74 68 65 20  74 77 6f 20 6b 69 6e 64  |for.the two kind|
< 000031d0  73 20 6f 66 20 52 65 73  65 72 76 6f 69 72 20 49  |s of Reservoir I|
< 000031e0  6e 64 65 78 20 6f 62 6a  65 63 74 73 3a 20 74 68  |ndex objects: th|
< 000031f0  65 20 63 6c 69 65 6e 74  27 73 0a 64 6f 6d 61 69  |e client's.domai|
< 00003200  6e 20 61 73 20 72 65 70  72 65 73 65 6e 74 65 64  |n as represented|
< 00003210  20 75 6e 64 65 72 20 74  68 65 20 52 65 73 65 72  | under the Reser|
< 00003220  76 6f 69 72 20 72 6f 6f  74 20 61 6e 64 20 74 68  |voir root and th|
< 00003230  65 0a 76 61 72 69 6f 75  73 20 52 65 73 65 72 76  |e.various Reserv|
< 00003240  6f 69 72 20 43 6f 6c 6c  65 63 74 69 6f 6e 73 20  |oir Collections |
< 00003250  75 6e 64 65 72 6e 65 61  74 68 20 74 68 65 20 64  |underneath the d|
< 00003260  6f 6d 61 69 6e 2e 0a 52  65 73 6f 75 72 63 65 20  |omain..Resource |
< 00003270  61 72 65 20 6f 6e 65 20  73 74 65 70 20 66 75 72  |are one step fur|
< 00003280  74 68 65 72 20 64 6f 77  6e 3b 20 74 68 65 73 65  |ther down; these|
< 00003290  20 64 6f 20 6e 6f 74 20  68 61 76 65 0a 69 6e 64  | do not have.ind|
< 000032a0  69 76 69 64 75 61 6c 20  41 43 4c 20 73 65 74 74  |ividual ACL sett|
< 000032b0  69 6e 67 73 20 62 75 74  20 66 6f 6c 6c 6f 77 20  |ings but follow |
< 000032c0  52 65 73 6f 75 72 63 65  20 43 6f 6c 6c 65 63 74  |Resource Collect|
< 000032d0  69 6f 6e 73 2e 0a 0a 59  6f 75 20 63 61 6e 20 72  |ions...You can r|
< 000032e0  75 6e 20 60 73 6c 61 70  63 61 74 60 20 66 72 6f  |un `slapcat` fro|
< 000032f0  6d 20 61 6e 6f 74 68 65  72 20 73 68 65 6c 6c 20  |m another shell |
< 00003300  74 6f 20 73 65 65 20 74  68 65 0a 63 68 61 6e 67  |to see the.chang|
< 00003310  65 73 20 69 6e 20 74 68  65 20 64 61 74 61 62 61  |es in the databa|
< 00003320  73 65 2e 20 20 54 68 69  73 20 63 6f 6d 6d 61 6e  |se.  This comman|
< 00003330  64 20 69 73 20 62 61 73  69 63 61 6c 6c 79 0a 61  |d is basically.a|
< 00003340  20 64 75 6d 70 20 6f 66  20 74 68 65 20 63 6f 6e  | dump of the con|
< 00003350  74 65 6e 74 73 20 6f 66  20 74 68 65 20 4f 70 65  |tents of the Ope|
< 00003360  6e 4c 44 41 50 20 64 61  74 61 62 61 73 65 20 69  |nLDAP database i|
< 00003370  6e 20 61 0a 73 74 61 6e  64 61 72 64 69 73 65 64  |n a.standardised|
< 00003380  20 65 78 63 68 61 6e 67  65 20 66 6f 72 6d 61 74  | exchange format|
< 00003390  2c 20 4c 44 49 46 2e 20  20 54 68 69 73 20 69 73  |, LDIF.  This is|
< 000033a0  20 61 20 72 6f 67 75 65  0a 75 74 69 6c 69 74 79  | a rogue.utility|
< 000033b0  2c 20 62 79 70 61 73 73  69 6e 67 20 74 68 65 20  |, bypassing the |
< 000033c0  70 72 6f 74 6f 63 6f 6c  20 61 6e 64 20 61 75 74  |protocol and aut|
< 000033d0  68 65 6e 74 69 63 61 74  69 6f 6e 2c 0a 73 6f 20  |hentication,.so |
< 000033e0  69 74 20 63 61 6e 20 6f  6e 6c 79 20 62 65 20 72  |it can only be r|
< 000033f0  75 6e 20 6c 6f 63 61 6c  6c 79 2e 0a 0a 54 68 65  |un locally...The|
< 00003400  20 73 68 65 6c 6c 73 20  61 72 65 20 61 20 62 69  | shells are a bi|
< 00003410  74 20 72 75 64 69 6d 65  6e 74 61 72 79 2c 20 62  |t rudimentary, b|
< 00003420  75 74 20 74 68 65 79 20  6d 61 79 20 67 72 6f 77  |ut they may grow|
< 00003430  0a 69 6e 74 6f 20 6d 61  6e 61 67 65 6d 65 6e 74  |.into management|
< 00003440  20 75 74 69 6c 69 74 69  65 73 2e 20 20 42 79 20  | utilities.  By |
< 00003450  74 68 61 74 20 74 69 6d  65 20 77 65 20 73 68 6f  |that time we sho|
< 00003460  75 6c 64 0a 70 72 6f 62  61 62 6c 79 20 73 70 6c  |uld.probably spl|
< 00003470  69 74 20 74 68 65 20 77  6f 72 64 73 20 6f 76 65  |it the words ove|
< 00003480  72 20 74 68 65 20 75 6e  64 65 72 73 63 6f 72 65  |r the underscore|
< 00003490  20 63 68 61 72 61 63 74  65 72 73 2c 0a 70 65 72  | characters,.per|
< 000034a0  68 61 70 73 20 75 73 69  6e 67 20 74 68 65 20 60  |haps using the `|
< 000034b0  63 6d 64 70 61 72 73 65  72 60 20 70 61 63 6b 61  |cmdparser` packa|
< 000034c0  67 65 20 74 68 61 74 20  77 61 73 20 69 6e 73 74  |ge that was inst|
< 000034d0  61 6c 6c 65 64 2e 0a 0a  0a 23 23 20 55 73 69 6e  |alled....## Usin|
< 000034e0  67 20 4c 44 41 50 0a 0a  54 68 65 20 63 6f 6e 74  |g LDAP..The cont|
< 000034f0  61 69 6e 65 72 20 65 78  70 6f 72 74 73 20 4c 44  |ainer exports LD|
< 00003500  41 50 20 73 65 72 76 69  63 65 20 6f 76 65 72 20  |AP service over |
< 00003510  70 6f 72 74 20 33 38 39  2e 0a 49 74 20 61 6c 73  |port 389..It als|
< 00003520  6f 20 72 75 6e 73 20 6c  6f 63 61 6c 6c 79 20 6f  |o runs locally o|
< 00003530  6e 20 60 2f 74 6d 70 2f  6c 64 61 70 2d 73 6f 63  |n `/tmp/ldap-soc|
< 00003540  6b 65 74 60 2c 20 72 65  61 63 68 61 62 6c 65 20  |ket`, reachable |
< 00003550  77 69 74 68 20 4c 44 41  50 20 55 52 49 0a 60 6c  |with LDAP URI.`l|
< 00003560  64 61 70 69 3a 2f 2f 25  32 66 74 6d 70 25 32 66  |dapi://%2ftmp%2f|
< 00003570  6c 64 61 70 2d 73 6f 63  6b 65 74 60 20 2d 2d 20  |ldap-socket` -- |
< 00003580  6d 69 6e 64 20 74 68 65  20 73 63 68 65 6d 65 27  |mind the scheme'|
< 00003590  73 20 65 78 74 72 61 20  60 69 60 20 61 6e 64 20  |s extra `i` and |
< 000035a0  6e 6f 74 65 0a 74 68 61  74 20 70 61 74 68 20 73  |note.that path s|
< 000035b0  65 70 61 72 61 74 6f 72  73 20 61 72 65 20 65 73  |eparators are es|
< 000035c0  63 61 70 65 64 20 74 6f  20 60 25 32 66 60 20 74  |caped to `%2f` t|
< 000035d0  6f 20 6e 6f 74 20 6d 69  78 20 74 68 65 6d 20 77  |o not mix them w|
< 000035e0  69 74 68 20 55 52 49 20  73 79 6e 74 61 78 2e 0a  |ith URI syntax..|
< 000035f0  0a 41 20 71 75 65 72 79  20 74 68 61 74 20 63 6f  |.A query that co|
< 00003600  75 6c 64 20 62 65 20 6d  61 64 65 20 77 6f 75 6c  |uld be made woul|
< 00003610  64 20 62 65 0a 0a 60 60  60 0a 6c 64 61 70 73 65  |d be..```.ldapse|
< 00003620  61 72 63 68 20 2d 77 20  73 65 6b 72 65 65 74 20  |arch -w sekreet |
< 00003630  2d 44 20 75 69 64 3d 64  65 6d 6f 2c 6f 75 3d 49  |-D uid=demo,ou=I|
< 00003640  64 65 6e 74 69 74 79 48  75 62 2c 6f 3d 61 72 70  |dentityHub,o=arp|
< 00003650  61 32 2e 6e 65 74 2c 6f  75 3d 49 6e 74 65 72 6e  |a2.net,ou=Intern|
< 00003660  65 74 57 69 64 65 20 2d  62 20 6f 75 3d 49 6e 74  |etWide -b ou=Int|
< 00003670  65 72 6e 65 74 57 69 64  65 20 6c 61 62 65 6c 65  |ernetWide labele|
< 00003680  64 55 52 49 0a 60 60 60  0a 0a 59 6f 75 20 73 68  |dURI.```..You sh|
< 00003690  6f 75 6c 64 20 67 65 74  20 74 68 65 20 60 64 6e  |ould get the `dn|
< 000036a0  60 20 61 6e 64 20 60 6c  61 62 65 6c 65 64 55 52  |` and `labeledUR|
< 000036b0  49 60 20 66 6f 72 20 61  6c 6c 20 6f 62 6a 65 63  |I` for all objec|
< 000036c0  74 73 20 75 6e 64 65 72  6e 65 61 74 68 20 74 68  |ts underneath th|
< 000036d0  65 0a 62 61 73 65 20 6f  70 74 69 6f 6e 20 60 2d  |e.base option `-|
< 000036e0  62 20 6f 75 3d 49 6e 74  65 72 6e 65 74 57 69 64  |b ou=InternetWid|
< 000036f0  65 60 20 74 68 61 74 20  61 72 65 20 69 6e 20 74  |e` that are in t|
< 00003700  68 65 20 64 61 74 61 62  61 73 65 2e 20 20 54 68  |he database.  Th|
< 00003710  65 20 69 6e 69 74 69 61  6c 20 64 61 74 61 0a 69  |e initial data.i|
< 00003720  73 20 6c 6f 61 64 65 64  20 66 72 6f 6d 20 60 2f  |s loaded from `/|
< 00003730  72 6f 6f 74 2f 69 6e 69  74 69 61 6c 2e 6c 64 69  |root/initial.ldi|
< 00003740  66 60 20 61 73 20 70 61  72 74 20 6f 66 20 74 68  |f` as part of th|
< 00003750  65 20 73 74 61 72 74 75  70 20 73 63 72 69 70 74  |e startup script|
< 00003760  2e 0a 0a 54 68 69 73 20  69 6e 63 6c 75 64 65 73  |...This includes|
< 00003770  20 74 68 65 20 73 74 61  6e 64 61 72 64 20 60 72  | the standard `r|
< 00003780  6f 6f 74 64 6e 60 20 61  6e 64 20 60 72 6f 6f 74  |ootdn` and `root|
< 00003790  70 77 60 20 61 73 20 73  65 74 75 70 0a 69 6e 20  |pw` as setup.in |
< 000037a0  60 2f 65 74 63 2f 6c 64  61 70 2f 73 6c 61 70 64  |`/etc/ldap/slapd|
< 000037b0  2e 63 6f 6e 66 60 20 66  6f 72 20 74 68 65 20 73  |.conf` for the s|
< 000037c0  65 72 76 65 72 2c 20 61  6e 64 20 66 6f 72 20 77  |erver, and for w|
< 000037d0  68 69 63 68 20 74 68 65  20 60 42 49 4e 44 44 4e  |hich the `BINDDN|
< 000037e0  60 20 62 75 74 0a 6e 6f  74 20 74 68 65 20 70 61  |` but.not the pa|
< 000037f0  73 73 77 6f 72 64 20 69  73 20 73 65 74 75 70 20  |ssword is setup |
< 00003800  69 6e 20 60 2f 65 74 63  2f 6c 64 61 70 2f 6c 64  |in `/etc/ldap/ld|
< 00003810  61 70 2e 63 6f 6e 66 60  20 66 6f 72 20 74 68 65  |ap.conf` for the|
< 00003820  20 63 6c 69 65 6e 74 2e  0a 0a 0a 23 23 20 55 73  | client....## Us|
< 00003830  69 6e 67 20 74 68 65 20  41 43 4c 20 53 68 65 6c  |ing the ACL Shel|
< 00003840  6c 0a 0a 54 68 65 20 60  61 72 70 61 32 61 63 6c  |l..The `arpa2acl|
< 00003850  60 20 73 68 65 6c 6c 20  63 61 6e 20 62 65 20 75  |` shell can be u|
< 00003860  73 65 64 20 74 6f 20 73  65 6c 65 63 74 20 61 20  |sed to select a |
< 00003870  6e 6f 64 65 20 69 6e 20  4c 44 41 50 2e 0a 52 65  |node in LDAP..Re|
< 00003880  73 65 72 76 6f 69 72 20  6e 6f 64 65 73 20 61 72  |servoir nodes ar|
< 00003890  65 20 61 6e 20 65 78 61  6d 70 6c 65 2c 20 62 75  |e an example, bu|
< 000038a0  74 20 6f 74 68 65 72 73  20 61 72 65 20 6a 75 73  |t others are jus|
< 000038b0  74 20 61 73 20 76 61 6c  69 64 2e 0a 49 6e 20 67  |t as valid..In g|
< 000038c0  65 6e 65 72 61 6c 2c 20  61 6e 79 20 6f 62 6a 65  |eneral, any obje|
< 000038d0  63 74 20 77 69 74 68 20  61 20 64 65 66 61 75 6c  |ct with a defaul|
< 000038e0  74 20 73 65 74 75 70 20  61 73 20 61 6e 0a 60 6f  |t setup as an.`o|
< 000038f0  62 6a 65 63 74 43 6c 61  73 73 3a 20 61 63 63 65  |bjectClass: acce|
< 00003900  73 73 43 6f 6e 74 72 6f  6c 6c 65 64 4f 62 6a 65  |ssControlledObje|
< 00003910  63 74 60 20 63 61 6e 20  62 65 20 65 64 69 74 65  |ct` can be edite|
< 00003920  64 2c 20 61 6e 64 0a 74  68 65 20 52 65 73 65 72  |d, and.the Reser|
< 00003930  76 6f 69 72 20 69 73 20  6a 75 73 74 20 6f 6e 65  |voir is just one|
< 00003940  20 65 78 61 6d 70 6c 65  20 6f 66 20 61 6e 20 61  | example of an a|
< 00003950  70 70 6c 69 63 61 74 69  6f 6e 20 74 68 61 74 0a  |pplication that.|
< 00003960  63 72 65 61 74 65 73 20  73 75 63 68 20 6f 62 6a  |creates such obj|
< 00003970  65 63 74 73 2e 20 20 54  68 65 20 49 64 65 6e 74  |ects.  The Ident|
< 00003980  69 74 79 48 75 62 20 73  68 6f 75 6c 64 20 64 6f  |ityHub should do|
< 00003990  20 74 68 65 20 73 61 6d  65 0a 74 6f 20 60 75 69  | the same.to `ui|
< 000039a0  64 60 20 73 74 79 6c 65  20 6f 62 6a 65 63 74 73  |d` style objects|
< 000039b0  2c 20 74 6f 20 6d 61 6b  65 20 74 68 65 69 72 20  |, to make their |
< 000039c0  61 63 63 65 73 73 20 63  6f 6e 74 72 6f 6c 6c 61  |access controlla|
< 000039d0  62 6c 65 2e 0a 0a 54 68  65 72 65 20 61 72 65 20  |ble...There are |
< 000039e0  61 20 66 65 77 20 74 79  70 65 73 20 6f 66 20 41  |a few types of A|
< 000039f0  43 4c 2c 20 61 6e 64 20  74 68 65 79 20 72 65 6c  |CL, and they rel|
< 00003a00  61 74 65 20 74 6f 20 74  68 65 0a 5b 6b 69 6e 64  |ate to the.[kind|
< 00003a10  73 20 6f 66 20 6f 62 6a  65 63 74 73 20 63 6f 6e  |s of objects con|
< 00003a20  74 72 6f 6c 6c 65 64 5d  28 68 74 74 70 3a 2f 2f  |trolled](http://|
< 00003a30  64 6f 6e 61 69 2e 61 72  70 61 32 2e 6e 65 74 2f  |donai.arpa2.net/|
< 00003a40  61 63 6c 2d 69 6d 70 6c  2e 68 74 6d 6c 29 3a 0a  |acl-impl.html):.|
< 00003a50  0a 20 20 2a 20 60 75 69  64 58 58 58 60 20 73 74  |.  * `uidXXX` st|
< 00003a60  79 6c 65 20 6f 62 6a 65  63 74 73 20 61 72 65 20  |yle objects are |
< 00003a70  75 73 75 61 6c 6c 79 20  61 63 63 65 73 73 2d 63  |usually access-c|
< 00003a80  6f 6e 74 72 6f 6c 6c 65  64 0a 20 20 20 20 74 68  |ontrolled.    th|
< 00003a90  72 6f 75 67 68 20 61 20  43 6f 6d 6d 75 6e 69 63  |rough a Communic|
< 00003aa0  61 74 69 6f 6e 20 41 43  4c 3b 0a 20 20 2a 20 60  |ation ACL;.  * `|
< 00003ab0  72 65 73 6f 75 72 63 65  43 6c 61 73 73 4f 62 6a  |resourceClassObj|
< 00003ac0  65 63 74 60 20 74 79 70  65 64 20 6f 62 6a 65 63  |ect` typed objec|
< 00003ad0  74 73 20 61 72 65 20 72  65 70 72 65 73 65 6e 74  |ts are represent|
< 00003ae0  61 74 69 76 65 0a 20 20  20 20 6f 66 20 61 20 72  |ative.    of a r|
< 00003af0  65 73 6f 75 72 63 65 20  63 6c 61 73 73 20 28 70  |esource class (p|
< 00003b00  65 72 68 61 70 73 20 74  68 65 20 67 65 6e 65 72  |erhaps the gener|
< 00003b10  61 6c 20 69 64 65 61 20  6f 66 20 47 69 74 20 73  |al idea of Git s|
< 00003b20  65 72 76 69 63 65 29 3b  0a 20 20 2a 20 60 72 65  |ervice);.  * `re|
< 00003b30  73 6f 75 72 63 65 49 6e  73 74 61 6e 63 65 4f 62  |sourceInstanceOb|
< 00003b40  6a 65 63 74 60 20 74 79  70 65 64 20 6f 62 6a 65  |ject` typed obje|
< 00003b50  63 74 73 20 61 72 65 20  72 65 70 72 65 73 65 6e  |cts are represen|
< 00003b60  74 61 74 69 76 65 0a 20  20 20 20 6f 66 20 61 20  |tative.    of a |
< 00003b70  72 65 73 6f 75 72 63 65  20 69 6e 73 74 61 6e 63  |resource instanc|
< 00003b80  65 20 28 70 65 72 68 61  70 73 20 61 20 47 69 74  |e (perhaps a Git|
< 00003b90  20 72 65 70 6f 73 69 74  6f 72 79 29 2e 0a 0a 54  | repository)...T|
< 00003ba0  6f 20 73 65 74 75 70 20  61 6e 20 41 43 4c 2c 20  |o setup an ACL, |
< 00003bb0  6f 6e 65 20 73 70 65 63  69 66 69 65 73 20 74 68  |one specifies th|
< 00003bc0  65 20 4c 44 41 50 20 70  61 74 68 20 6f 66 20 61  |e LDAP path of a|
< 00003bd0  6e 20 6f 62 6a 65 63 74  2c 0a 73 6f 20 69 74 73  |n object,.so its|
< 00003be0  20 60 64 6e 60 20 6f 72  20 60 64 69 73 74 69 6e  | `dn` or `distin|
< 00003bf0  67 75 69 73 68 65 64 4e  61 6d 65 60 2e 20 20 49  |guishedName`.  I|
< 00003c00  6e 74 65 72 65 73 74 69  6e 67 6c 79 2c 20 74 68  |nterestingly, th|
< 00003c10  65 0a 66 69 72 73 74 2f  6c 6f 77 65 73 74 20 52  |e.first/lowest R|
< 00003c20  44 4e 20 69 6e 20 74 68  65 20 70 61 74 68 20 6d  |DN in the path m|
< 00003c30  61 79 20 67 69 76 65 20  61 77 61 79 20 64 65 74  |ay give away det|
< 00003c40  61 69 6c 73 20 74 6f 20  69 64 65 6e 74 69 66 79  |ails to identify|
< 00003c50  0a 74 68 65 20 41 43 4c  20 6f 62 6a 65 63 74 3b  |.the ACL object;|
< 00003c60  20 61 6e 20 61 74 74 72  69 62 75 74 65 20 28 70  | an attribute (p|
< 00003c70  6f 73 73 69 62 6c 79 20  69 6e 68 65 72 69 74 65  |ossibly inherite|
< 00003c80  64 29 20 6f 66 20 60 75  69 64 60 0a 66 6f 72 20  |d) of `uid`.for |
< 00003c90  61 20 43 6f 6d 6d 75 6e  69 63 61 74 69 6f 6e 20  |a Communication |
< 00003ca0  41 43 4c 20 6f 62 6a 65  63 74 2c 20 6f 72 20 61  |ACL object, or a|
< 00003cb0  20 60 72 65 73 63 6c 73  60 20 6f 72 20 60 72 65  | `rescls` or `re|
< 00003cc0  73 69 6e 73 60 20 66 6f  72 0a 61 20 72 65 73 6f  |sins` for.a reso|
< 00003cd0  75 72 63 65 20 63 6c 61  73 73 20 61 6e 64 20 72  |urce class and r|
< 00003ce0  65 73 6f 75 72 63 65 20  69 6e 73 74 61 6e 63 65  |esource instance|
< 00003cf0  2c 20 72 65 73 70 65 63  74 69 76 65 6c 79 2e 20  |, respectively. |
< 00003d00  20 46 6f 72 0a 69 6e 73  74 61 6e 63 65 20 69 6e  | For.instance in|
< 00003d10  20 74 68 65 20 52 65 73  65 72 76 6f 69 72 2c 20  | the Reservoir, |
< 00003d20  77 65 20 68 61 76 65 20  61 20 6e 65 73 74 69 6e  |we have a nestin|
< 00003d30  67 0a 60 72 65 73 6f 75  72 63 65 3d 2c 20 72 65  |g.`resource=, re|
< 00003d40  73 69 6e 73 3d 2c 20 2e  2e 2e 2c 20 6f 75 3d 52  |sins=, ..., ou=R|
< 00003d50  65 73 65 72 76 6f 69 72  2c 6f 3d 61 72 70 61 32  |eservoir,o=arpa2|
< 00003d60  2e 6e 65 74 2c 6f 75 3d  49 6e 74 65 72 6e 65 74  |.net,ou=Internet|
< 00003d70  57 69 64 65 60 0a 74 68  61 74 20 63 61 6e 20 62  |Wide`.that can b|
< 00003d80  65 20 68 65 6c 70 66 75  6c 2e 20 20 41 6c 74 68  |e helpful.  Alth|
< 00003d90  6f 75 67 68 20 60 72 65  73 63 6c 73 60 20 69 73  |ough `rescls` is|
< 00003da0  20 6e 6f 74 20 73 68 6f  77 6e 20 69 6e 20 74 68  | not shown in th|
< 00003db0  65 0a 44 4e 2c 20 74 68  65 20 60 6f 75 3d 52 65  |e.DN, the `ou=Re|
< 00003dc0  73 65 72 76 6f 69 72 2c  6f 3d 61 72 70 61 32 2e  |servoir,o=arpa2.|
< 00003dd0  6e 65 74 2c 6f 75 3d 49  6e 74 65 72 6e 65 74 57  |net,ou=InternetW|
< 00003de0  69 64 65 60 20 73 61 79  73 20 74 68 65 0a 73 61  |ide` says the.sa|
< 00003df0  6d 65 20 74 68 69 6e 67  2c 20 69 74 20 6d 61 72  |me thing, it mar|
< 00003e00  6b 73 20 74 68 65 20 62  6f 75 6e 64 61 72 69 65  |ks the boundarie|
< 00003e10  73 20 6f 66 20 74 68 65  20 61 70 70 6c 69 63 61  |s of the applica|
< 00003e20  74 69 6f 6e 2c 20 77 68  69 63 68 0a 69 6e 20 74  |tion, which.in t|
< 00003e30  75 72 6e 20 73 70 65 63  69 66 69 65 73 20 74 68  |urn specifies th|
< 00003e40  65 20 60 72 65 73 6f 75  72 63 65 43 6c 61 73 73  |e `resourceClass|
< 00003e50  60 2c 20 77 68 69 63 68  20 69 73 20 61 6c 73 6f  |`, which is also|
< 00003e60  20 70 61 72 74 20 6f 66  0a 74 68 65 20 60 72 65  | part of.the `re|
< 00003e70  73 69 6e 73 3d 60 20 4c  44 41 50 20 6f 62 6a 65  |sins=` LDAP obje|
< 00003e80  63 74 73 2e 0a 0a 46 69  6e 61 6c 6c 79 2c 20 72  |cts...Finally, r|
< 00003e90  65 73 6f 75 72 63 65 73  20 61 72 65 20 73 70 65  |esources are spe|
< 00003ea0  63 69 66 69 63 20 74 6f  20 61 20 64 6f 6d 61 69  |cific to a domai|
< 00003eb0  6e 20 6e 61 6d 65 2c 20  77 68 69 63 68 20 73 65  |n name, which se|
< 00003ec0  72 76 65 73 0a 61 73 20  61 20 72 65 61 6c 6d 2e  |rves.as a realm.|
< 00003ed0  20 20 54 68 69 73 20 63  61 6e 20 62 65 20 66 6f  |  This can be fo|
< 00003ee0  75 6e 64 20 69 6e 20 74  68 65 20 60 64 6e 60 20  |und in the `dn` |
< 00003ef0  61 73 20 74 68 65 20 75  73 65 72 20 64 6f 6d 61  |as the user doma|
< 00003f00  69 6e 2e 0a 46 6f 72 20  52 65 73 65 72 76 6f 69  |in..For Reservoi|
< 00003f10  72 2c 20 6f 6e 65 20 77  6f 75 6c 64 20 68 61 76  |r, one would hav|
< 00003f20  65 20 60 61 73 73 6f 63  69 61 74 65 64 44 6f 6d  |e `associatedDom|
< 00003f30  61 69 6e 3d 6f 72 76 65  6c 74 65 2e 6e 65 70 2c  |ain=orvelte.nep,|
< 00003f40  0a 6f 75 3d 52 65 73 65  72 76 6f 69 72 2c 20 6f  |.ou=Reservoir, o|
< 00003f50  3d 61 72 70 61 32 2e 6e  65 74 2c 20 6f 75 3d 49  |=arpa2.net, ou=I|
< 00003f60  6e 74 65 72 6e 65 74 57  69 64 65 60 20 69 66 20  |nternetWide` if |
< 00003f70  60 6f 72 76 65 6c 74 65  2e 6e 65 70 60 0a 69 73  |`orvelte.nep`.is|
< 00003f80  20 74 68 65 20 75 73 65  72 20 64 6f 6d 61 69 6e  | the user domain|
< 00003f90  2e 20 20 44 69 72 65 63  74 6c 79 20 75 6e 64 65  |.  Directly unde|
< 00003fa0  72 6e 65 61 74 68 20 77  6f 75 6c 64 20 62 65 20  |rneath would be |
< 00003fb0  60 72 65 73 6f 75 72 63  65 3d 2c 0a 72 65 73 69  |`resource=,.resi|
< 00003fc0  6e 73 3d 60 20 6c 65 76  65 6c 73 2e 20 20 4e 6f  |ns=` levels.  No|
< 00003fd0  74 65 20 74 68 61 74 20  74 68 65 72 65 20 69 73  |te that there is|
< 00003fe0  20 6e 6f 20 6d 6f 72 65  20 6e 65 73 74 69 6e 67  | no more nesting|
< 00003ff0  20 74 68 61 6e 0a 74 68  69 73 2c 20 65 76 65 6e  | than.this, even|
< 00004000  20 77 68 65 6e 20 74 68  65 20 63 72 6f 73 73 2d  | when the cross-|
< 00004010  72 65 66 65 72 65 6e 63  65 73 20 62 65 74 77 65  |references betwe|
< 00004020  65 6e 20 60 72 65 73 63  6c 73 60 20 6f 62 6a 65  |en `rescls` obje|
< 00004030  63 74 73 0a 6d 61 79 20  73 75 67 67 65 73 74 20  |cts.may suggest |
< 00004040  6f 74 68 65 72 77 69 73  65 2e 0a 0a 60 60 60 0a  |otherwise...```.|
< 00004050  73 68 65 6c 6c 23 20 61  72 70 61 32 61 63 6c 20  |shell# arpa2acl |
< 00004060  0a 45 64 69 74 20 41 63  63 65 73 73 20 43 6f 6e  |.Edit Access Con|
< 00004070  74 72 6f 6c 20 4c 69 73  74 73 20 61 73 20 73 61  |trol Lists as sa|
< 00004080  76 65 64 20 69 6e 20 4c  44 41 50 2e 0a 0a 61 72  |ved in LDAP...ar|
< 00004090  70 61 32 61 63 6c 3e 20  61 63 6c 5f 64 6e 20 72  |pa2acl> acl_dn r|
< 000040a0  65 73 69 6e 73 3d 30 38  37 38 63 34 32 34 2d 65  |esins=0878c424-e|
< 000040b0  35 34 34 2d 34 33 63 64  2d 62 31 63 34 2d 37 31  |544-43cd-b1c4-71|
< 000040c0  66 38 63 37 66 37 36 32  33 37 2c 61 73 73 6f 63  |f8c7f76237,assoc|
< 000040d0  69 61 74 65 64 44 6f 6d  61 69 6e 3d 61 72 70 61  |iatedDomain=arpa|
< 000040e0  32 2e 6f 72 67 2c 6f 75  3d 52 65 73 65 72 76 6f  |2.org,ou=Reservo|
< 000040f0  69 72 2c 6f 3d 61 72 70  61 32 2e 6e 65 74 2c 6f  |ir,o=arpa2.net,o|
< 00004100  75 3d 49 6e 74 65 72 6e  65 74 57 69 64 65 0a 0a  |u=InternetWide..|
< 00004110  72 65 73 6f 75 72 63 65  43 6c 61 73 73 3a 20 39  |resourceClass: 9|
< 00004120  30 34 64 66 64 62 35 2d  36 62 33 34 2d 33 38 31  |04dfdb5-6b34-381|
< 00004130  38 2d 62 35 38 30 2d 62  39 61 30 62 34 66 37 65  |8-b580-b9a0b4f7e|
< 00004140  37 61 39 0a 72 65 73 6f  75 72 63 65 49 6e 73 74  |7a9.resourceInst|
< 00004150  61 6e 63 65 3a 20 30 38  37 38 63 34 32 34 2d 65  |ance: 0878c424-e|
< 00004160  35 34 34 2d 34 33 63 64  2d 62 31 63 34 2d 37 31  |544-43cd-b1c4-71|
< 00004170  66 38 63 37 66 37 36 32  33 37 0a 63 6e 3a 20 4e  |f8c7f76237.cn: N|
< 00004180  65 67 72 69 6e 0a 72 65  73 65 72 76 6f 69 72 52  |egrin.reservoirR|
< 00004190  65 66 3a 20 39 36 37 33  66 64 31 31 2d 36 64 31  |ef: 9673fd11-6d1|
< 000041a0  30 2d 34 38 61 31 2d 39  30 35 62 2d 38 66 38 35  |0-48a1-905b-8f85|
< 000041b0  39 39 61 30 35 38 34 66  20 57 68 69 73 70 65 72  |99a0584f Whisper|
< 000041c0  69 6e 67 0a 61 63 63 65  73 73 43 6f 6e 74 72 6f  |ing.accessContro|
< 000041d0  6c 4c 69 73 74 3a 20 39  39 39 20 25 77 72 20 64  |lList: 999 %wr d|
< 000041e0  65 6d 6f 40 61 72 70 61  32 2e 6f 72 67 0a 0a 61  |emo@arpa2.org..a|
< 000041f0  72 70 61 32 61 63 6c 3e  20 61 63 6c 5f 61 64 64  |rpa2acl> acl_add|
< 00004200  20 25 72 20 62 61 6b 6b  65 72 40 6f 72 76 65 6c  | %r bakker@orvel|
< 00004210  74 65 2e 6e 65 70 0a 0a  61 72 70 61 32 61 63 6c  |te.nep..arpa2acl|
< 00004220  3e 20 61 63 6c 5f 64 65  6c 20 64 65 6d 6f 40 61  |> acl_del demo@a|
< 00004230  72 70 61 32 2e 6f 72 67  0a 52 65 6d 6f 76 69 6e  |rpa2.org.Removin|
< 00004240  67 20 72 69 67 68 74 73  20 25 77 72 20 66 72 6f  |g rights %wr fro|
< 00004250  6d 20 73 65 6c 65 63 74  6f 72 20 64 65 6d 6f 40  |m selector demo@|
< 00004260  61 72 70 61 32 2e 6f 72  67 0a 0a 61 72 70 61 32  |arpa2.org..arpa2|
< 00004270  61 63 6c 3e 20 61 63 6c  5f 73 61 76 65 0a 0a 61  |acl> acl_save..a|
< 00004280  72 70 61 32 61 63 6c 3e  20 61 63 6c 5f 64 6e 20  |rpa2acl> acl_dn |
< 00004290  72 65 73 69 6e 73 3d 30  38 37 38 63 34 32 34 2d  |resins=0878c424-|
< 000042a0  65 35 34 34 2d 34 33 63  64 2d 62 31 63 34 2d 37  |e544-43cd-b1c4-7|
< 000042b0  31 66 38 63 37 66 37 36  32 33 37 2c 61 73 73 6f  |1f8c7f76237,asso|
< 000042c0  63 69 61 74 65 64 44 6f  6d 61 69 6e 3d 61 72 70  |ciatedDomain=arp|
< 000042d0  61 32 2e 6f 72 67 2c 6f  75 3d 52 65 73 65 72 76  |a2.org,ou=Reserv|
< 000042e0  6f 69 72 2c 6f 3d 61 72  70 61 32 2e 6e 65 74 2c  |oir,o=arpa2.net,|
< 000042f0  6f 75 3d 49 6e 74 65 72  6e 65 74 57 69 64 65 0a  |ou=InternetWide.|
< 00004300  0a 72 65 73 6f 75 72 63  65 43 6c 61 73 73 3a 20  |.resourceClass: |
< 00004310  39 30 34 64 66 64 62 35  2d 36 62 33 34 2d 33 38  |904dfdb5-6b34-38|
< 00004320  31 38 2d 62 35 38 30 2d  62 39 61 30 62 34 66 37  |18-b580-b9a0b4f7|
< 00004330  65 37 61 39 0a 72 65 73  6f 75 72 63 65 49 6e 73  |e7a9.resourceIns|
< 00004340  74 61 6e 63 65 3a 20 30  38 37 38 63 34 32 34 2d  |tance: 0878c424-|
< 00004350  65 35 34 34 2d 34 33 63  64 2d 62 31 63 34 2d 37  |e544-43cd-b1c4-7|
< 00004360  31 66 38 63 37 66 37 36  32 33 37 0a 63 6e 3a 20  |1f8c7f76237.cn: |
< 00004370  4e 65 67 72 69 6e 0a 72  65 73 65 72 76 6f 69 72  |Negrin.reservoir|
< 00004380  52 65 66 3a 20 39 36 37  33 66 64 31 31 2d 36 64  |Ref: 9673fd11-6d|
< 00004390  31 30 2d 34 38 61 31 2d  39 30 35 62 2d 38 66 38  |10-48a1-905b-8f8|
< 000043a0  35 39 39 61 30 35 38 34  66 20 57 68 69 73 70 65  |599a0584f Whispe|
< 000043b0  72 69 6e 67 0a 61 63 63  65 73 73 43 6f 6e 74 72  |ring.accessContr|
< 000043c0  6f 6c 4c 69 73 74 3a 20  25 72 20 62 61 6b 6b 65  |olList: %r bakke|
< 000043d0  72 40 6f 72 76 65 6c 74  65 2e 6e 65 70 0a 0a 60  |r@orvelte.nep..`|
< 000043e0  60 60 0a 0a 49 6e 73 74  65 61 64 20 6f 66 20 74  |``..Instead of t|
< 000043f0  68 69 73 20 6f 74 68 65  72 20 60 61 63 6c 5f 64  |his other `acl_d|
< 00004400  6e 60 20 63 61 6c 6c 2c  20 79 6f 75 20 63 6f 75  |n` call, you cou|
< 00004410  6c 64 20 61 6c 73 6f 20  74 72 79 20 77 69 74 68  |ld also try with|
< 00004420  20 60 73 6c 61 70 63 61  74 60 0a 77 68 61 74 20  | `slapcat`.what |
< 00004430  68 61 73 20 63 68 61 6e  67 65 64 2e 20 20 4f 72  |has changed.  Or|
< 00004440  20 79 6f 75 20 63 6f 75  6c 64 20 6f 66 20 63 6f  | you could of co|
< 00004450  75 72 73 65 20 71 75 65  72 79 20 4c 44 41 50 2c  |urse query LDAP,|
< 00004460  20 66 6f 72 20 69 6e 73  74 61 6e 63 65 0a 61 73  | for instance.as|
< 00004470  73 75 6d 69 6e 67 20 74  68 61 74 20 79 6f 75 20  |suming that you |
< 00004480  68 61 76 65 20 61 20 4b  65 72 62 65 72 6f 73 20  |have a Kerberos |
< 00004490  6c 6f 67 69 6e 20 61 66  74 65 72 20 60 61 72 70  |login after `arp|
< 000044a0  61 32 6b 69 6e 69 74 60  20 73 75 63 63 65 65 64  |a2kinit` succeed|
< 000044b0  65 64 2c 0a 0a 60 60 60  0a 73 68 65 6c 6c 24 20  |ed,..```.shell$ |
< 000044c0  6c 64 61 70 73 65 61 72  63 68 20 2d 48 20 6c 64  |ldapsearch -H ld|
< 000044d0  61 70 69 3a 2f 2f 25 32  66 74 6d 70 25 32 66 6c  |api://%2ftmp%2fl|
< 000044e0  64 61 70 2d 73 6f 63 6b  65 74 20 5c 0a 09 2d 59  |dap-socket \..-Y|
< 000044f0  20 67 73 73 61 70 69 20  5c 0a 09 2d 62 20 61 73  | gssapi \..-b as|
< 00004500  73 6f 63 69 61 74 65 64  44 6f 6d 61 69 6e 3d 61  |sociatedDomain=a|
< 00004510  72 70 61 32 2e 6f 72 67  2c 6f 75 3d 52 65 73 65  |rpa2.org,ou=Rese|
< 00004520  72 76 6f 69 72 2c 6f 3d  61 72 70 61 32 2e 6e 65  |rvoir,o=arpa2.ne|
< 00004530  74 2c 6f 75 3d 49 6e 74  65 72 6e 65 74 57 69 64  |t,ou=InternetWid|
< 00004540  65 20 5c 0a 09 27 28 26  28 6f 62 6a 65 63 74 43  |e \..'(&(objectC|
< 00004550  6c 61 73 73 3d 61 63 63  65 73 73 43 6f 6e 74 72  |lass=accessContr|
< 00004560  6f 6c 6c 65 64 4f 62 6a  65 63 74 29 28 6f 62 6a  |olledObject)(obj|
< 00004570  65 63 74 43 6c 61 73 73  3d 72 65 73 6f 75 72 63  |ectClass=resourc|
< 00004580  65 49 6e 73 74 61 6e 63  65 4f 62 6a 65 63 74 29  |eInstanceObject)|
< 00004590  29 27 20 5c 0a 09 72 65  73 6f 75 72 63 65 43 6c  |)' \..resourceCl|
< 000045a0  61 73 73 20 72 65 73 6f  75 72 63 65 49 6e 73 74  |ass resourceInst|
< 000045b0  61 6e 63 65 20 61 63 63  65 73 73 43 6f 6e 74 72  |ance accessContr|
< 000045c0  6f 6c 4c 69 73 74 0a 60  60 60 0a 0a 77 68 69 63  |olList.```..whic|
< 000045d0  68 20 77 6f 75 6c 64 20  79 69 65 6c 64 20 74 68  |h would yield th|
< 000045e0  65 20 41 43 4c 20 64 65  66 69 6e 69 74 69 6f 6e  |e ACL definition|
< 000045f0  73 20 75 6e 64 65 72 6e  65 61 74 68 20 74 68 69  |s underneath thi|
< 00004600  73 20 64 6f 6d 61 69 6e  27 73 20 52 65 73 65 72  |s domain's Reser|
< 00004610  76 6f 69 72 3a 0a 0a 60  60 60 0a 53 41 53 4c 2f  |voir:..```.SASL/|
< 00004620  47 53 53 41 50 49 20 61  75 74 68 65 6e 74 69 63  |GSSAPI authentic|
< 00004630  61 74 69 6f 6e 20 73 74  61 72 74 65 64 0a 53 41  |ation started.SA|
< 00004640  53 4c 20 75 73 65 72 6e  61 6d 65 3a 20 64 65 6d  |SL username: dem|
< 00004650  6f 40 41 52 50 41 32 2e  4e 45 54 0a 53 41 53 4c  |o@ARPA2.NET.SASL|
< 00004660  20 53 53 46 3a 20 32 35  36 0a 53 41 53 4c 20 64  | SSF: 256.SASL d|
< 00004670  61 74 61 20 73 65 63 75  72 69 74 79 20 6c 61 79  |ata security lay|
< 00004680  65 72 20 69 6e 73 74 61  6c 6c 65 64 2e 0a 23 20  |er installed..# |
< 00004690  65 78 74 65 6e 64 65 64  20 4c 44 49 46 0a 23 0a  |extended LDIF.#.|
< 000046a0  23 20 4c 44 41 50 76 33  0a 23 20 62 61 73 65 20  |# LDAPv3.# base |
< 000046b0  3c 61 73 73 6f 63 69 61  74 65 64 44 6f 6d 61 69  |<associatedDomai|
< 000046c0  6e 3d 61 72 70 61 32 2e  6f 72 67 2c 6f 75 3d 52  |n=arpa2.org,ou=R|
< 000046d0  65 73 65 72 76 6f 69 72  2c 6f 3d 61 72 70 61 32  |eservoir,o=arpa2|
< 000046e0  2e 6e 65 74 2c 6f 75 3d  49 6e 74 65 72 6e 65 74  |.net,ou=Internet|
< 000046f0  57 69 64 65 3e 20 77 69  74 68 20 73 63 6f 70 65  |Wide> with scope|
< 00004700  20 73 75 62 74 72 65 65  0a 23 20 66 69 6c 74 65  | subtree.# filte|
< 00004710  72 3a 20 28 26 28 6f 62  6a 65 63 74 43 6c 61 73  |r: (&(objectClas|
< 00004720  73 3d 61 63 63 65 73 73  43 6f 6e 74 72 6f 6c 6c  |s=accessControll|
< 00004730  65 64 4f 62 6a 65 63 74  29 28 6f 62 6a 65 63 74  |edObject)(object|
< 00004740  43 6c 61 73 73 3d 72 65  73 6f 75 72 63 65 49 6e  |Class=resourceIn|
< 00004750  73 74 61 6e 63 65 4f 62  6a 65 63 74 29 29 0a 23  |stanceObject)).#|
< 00004760  20 72 65 71 75 65 73 74  69 6e 67 3a 20 72 65 73  | requesting: res|
< 00004770  6f 75 72 63 65 43 6c 61  73 73 20 72 65 73 6f 75  |ourceClass resou|
< 00004780  72 63 65 49 6e 73 74 61  6e 63 65 20 61 63 63 65  |rceInstance acce|
< 00004790  73 73 43 6f 6e 74 72 6f  6c 4c 69 73 74 20 0a 23  |ssControlList .#|
< 000047a0  0a 0a 23 20 30 38 37 38  63 34 32 34 2d 65 35 34  |..# 0878c424-e54|
< 000047b0  34 2d 34 33 63 64 2d 62  31 63 34 2d 37 31 66 38  |4-43cd-b1c4-71f8|
< 000047c0  63 37 66 37 36 32 33 37  2c 20 61 72 70 61 32 2e  |c7f76237, arpa2.|
< 000047d0  6f 72 67 2c 20 52 65 73  65 72 76 6f 69 72 2c 20  |org, Reservoir, |
< 000047e0  61 72 70 61 32 2e 6e 65  74 2c 20 49 6e 74 65 72  |arpa2.net, Inter|
< 000047f0  6e 0a 20 65 74 57 69 64  65 0a 64 6e 3a 20 72 65  |n. etWide.dn: re|
< 00004800  73 6f 75 72 63 65 49 6e  73 74 61 6e 63 65 3d 30  |sourceInstance=0|
< 00004810  38 37 38 63 34 32 34 2d  65 35 34 34 2d 34 33 63  |878c424-e544-43c|
< 00004820  64 2d 62 31 63 34 2d 37  31 66 38 63 37 66 37 36  |d-b1c4-71f8c7f76|
< 00004830  32 33 37 2c 61 73 73 6f  63 69 61 74 65 64 44 6f  |237,associatedDo|
< 00004840  6d 61 69 6e 3d 61 72 70  0a 20 61 32 2e 6f 72 67  |main=arp. a2.org|
< 00004850  2c 6f 75 3d 52 65 73 65  72 76 6f 69 72 2c 6f 3d  |,ou=Reservoir,o=|
< 00004860  61 72 70 61 32 2e 6e 65  74 2c 6f 75 3d 49 6e 74  |arpa2.net,ou=Int|
< 00004870  65 72 6e 65 74 57 69 64  65 0a 72 65 73 6f 75 72  |ernetWide.resour|
< 00004880  63 65 43 6c 61 73 73 3a  20 39 30 34 64 66 64 62  |ceClass: 904dfdb|
< 00004890  35 2d 36 62 33 34 2d 33  38 31 38 2d 62 35 38 30  |5-6b34-3818-b580|
< 000048a0  2d 62 39 61 30 62 34 66  37 65 37 61 39 0a 72 65  |-b9a0b4f7e7a9.re|
< 000048b0  73 6f 75 72 63 65 49 6e  73 74 61 6e 63 65 3a 20  |sourceInstance: |
< 000048c0  30 38 37 38 63 34 32 34  2d 65 35 34 34 2d 34 33  |0878c424-e544-43|
< 000048d0  63 64 2d 62 31 63 34 2d  37 31 66 38 63 37 66 37  |cd-b1c4-71f8c7f7|
< 000048e0  36 32 33 37 0a 61 63 63  65 73 73 43 6f 6e 74 72  |6237.accessContr|
< 000048f0  6f 6c 4c 69 73 74 3a 20  25 72 20 62 61 6b 6b 65  |olList: %r bakke|
< 00004900  72 40 6f 72 76 65 6c 74  65 2e 6e 65 70 0a 0a 23  |r@orvelte.nep..#|
< 00004910  20 39 36 37 33 66 64 31  31 2d 36 64 31 30 2d 34  | 9673fd11-6d10-4|
< 00004920  38 61 31 2d 39 30 35 62  2d 38 66 38 35 39 39 61  |8a1-905b-8f8599a|
< 00004930  30 35 38 34 66 2c 20 61  72 70 61 32 2e 6f 72 67  |0584f, arpa2.org|
< 00004940  2c 20 52 65 73 65 72 76  6f 69 72 2c 20 61 72 70  |, Reservoir, arp|
< 00004950  61 32 2e 6e 65 74 2c 20  49 6e 74 65 72 6e 0a 20  |a2.net, Intern. |
< 00004960  65 74 57 69 64 65 0a 64  6e 3a 20 72 65 73 6f 75  |etWide.dn: resou|
< 00004970  72 63 65 49 6e 73 74 61  6e 63 65 3d 39 36 37 33  |rceInstance=9673|
< 00004980  66 64 31 31 2d 36 64 31  30 2d 34 38 61 31 2d 39  |fd11-6d10-48a1-9|
< 00004990  30 35 62 2d 38 66 38 35  39 39 61 30 35 38 34 66  |05b-8f8599a0584f|
< 000049a0  2c 61 73 73 6f 63 69 61  74 65 64 44 6f 6d 61 69  |,associatedDomai|
< 000049b0  6e 3d 61 72 70 0a 20 61  32 2e 6f 72 67 2c 6f 75  |n=arp. a2.org,ou|
< 000049c0  3d 52 65 73 65 72 76 6f  69 72 2c 6f 3d 61 72 70  |=Reservoir,o=arp|
< 000049d0  61 32 2e 6e 65 74 2c 6f  75 3d 49 6e 74 65 72 6e  |a2.net,ou=Intern|
< 000049e0  65 74 57 69 64 65 0a 72  65 73 6f 75 72 63 65 43  |etWide.resourceC|
< 000049f0  6c 61 73 73 3a 20 39 30  34 64 66 64 62 35 2d 36  |lass: 904dfdb5-6|
< 00004a00  62 33 34 2d 33 38 31 38  2d 62 35 38 30 2d 62 39  |b34-3818-b580-b9|
< 00004a10  61 30 62 34 66 37 65 37  61 39 0a 72 65 73 6f 75  |a0b4f7e7a9.resou|
< 00004a20  72 63 65 49 6e 73 74 61  6e 63 65 3a 20 39 36 37  |rceInstance: 967|
< 00004a30  33 66 64 31 31 2d 36 64  31 30 2d 34 38 61 31 2d  |3fd11-6d10-48a1-|
< 00004a40  39 30 35 62 2d 38 66 38  35 39 39 61 30 35 38 34  |905b-8f8599a0584|
< 00004a50  66 0a 61 63 63 65 73 73  43 6f 6e 74 72 6f 6c 4c  |f.accessControlL|
< 00004a60  69 73 74 3a 20 39 39 39  20 25 77 72 20 64 65 6d  |ist: 999 %wr dem|
< 00004a70  6f 40 61 72 70 61 32 2e  6f 72 67 0a 0a 23 20 73  |o@arpa2.org..# s|
< 00004a80  65 61 72 63 68 20 72 65  73 75 6c 74 0a 73 65 61  |earch result.sea|
< 00004a90  72 63 68 3a 20 34 0a 72  65 73 75 6c 74 3a 20 30  |rch: 4.result: 0|
< 00004aa0  20 53 75 63 63 65 73 73  0a 0a 23 20 6e 75 6d 52  | Success..# numR|
< 00004ab0  65 73 70 6f 6e 73 65 73  3a 20 33 0a 23 20 6e 75  |esponses: 3.# nu|
< 00004ac0  6d 45 6e 74 72 69 65 73  3a 20 32 0a 60 60 60 0a  |mEntries: 2.```.|
< 00004ad0  0a 41 20 73 69 6d 69 6c  61 72 20 71 75 65 72 79  |.A similar query|
< 00004ae0  2c 20 61 6c 62 65 69 74  20 6e 6f 74 20 64 6f 6d  |, albeit not dom|
< 00004af0  61 69 6e 2d 73 70 65 63  69 66 69 63 2c 20 69 73  |ain-specific, is|
< 00004b00  20 64 6f 6e 65 20 62 79  20 74 68 65 20 73 6f 66  | done by the sof|
< 00004b10  74 77 61 72 65 20 74 68  61 74 0a 64 6f 77 6e 6c  |tware that.downl|
< 00004b20  6f 61 64 73 20 61 63 63  65 73 73 20 72 69 67 74  |oads access rigt|
< 00004b30  68 73 20 66 6f 72 20 63  68 65 63 6b 69 6e 67 20  |hs for checking |
< 00004b40  61 74 20 74 68 65 20 73  69 74 65 73 20 77 68 65  |at the sites whe|
< 00004b50  72 65 20 74 68 65 79 20  61 72 65 20 6e 65 65 64  |re they are need|
< 00004b60  65 64 2e 0a 54 68 65 20  64 69 66 66 65 72 65 6e  |ed..The differen|
< 00004b70  63 65 20 69 73 20 74 68  61 74 20 74 68 69 73 20  |ce is that this |
< 00004b80  69 73 20 6e 6f 74 20 61  20 60 73 65 61 72 63 68  |is not a `search|
< 00004b90  60 20 6f 70 65 72 61 74  69 6f 6e 2c 20 62 75 74  |` operation, but|
< 00004ba0  20 61 20 73 79 6e 63 68  72 6f 6e 69 73 69 6e 67  | a synchronising|
< 00004bb0  0a 76 61 72 69 61 6e 74  2c 20 74 68 61 74 20 63  |.variant, that c|
< 00004bc0  6f 6e 74 69 6e 75 65 73  20 74 6f 20 72 65 63 65  |ontinues to rece|
< 00004bd0  69 76 65 20 75 70 64 61  74 65 73 20 74 6f 20 74  |ive updates to t|
< 00004be0  68 65 20 6f 72 69 67 69  6e 61 6c 20 73 65 61 72  |he original sear|
< 00004bf0  63 68 20 72 65 73 75 6c  74 2e 0a 54 68 69 73 20  |ch result..This |
< 00004c00  69 73 20 64 6f 6e 65 20  66 61 73 74 2c 20 73 6f  |is done fast, so|
< 00004c10  20 74 68 65 20 73 79 6e  63 68 72 6f 6e 69 73 65  | the synchronise|
< 00004c20  64 20 6c 69 73 74 65 6e  65 72 73 20 28 77 68 69  |d listeners (whi|
< 00004c30  63 68 20 77 65 20 69 6d  70 6c 65 6d 65 6e 74 20  |ch we implement |
< 00004c40  77 69 74 68 0a 53 74 65  61 6d 57 6f 72 6b 73 20  |with.SteamWorks |
< 00004c50  50 75 6c 6c 65 79 29 20  63 6f 6e 74 69 6e 75 61  |Pulley) continua|
< 00004c60  6c 6c 79 20 72 65 63 65  69 76 65 20 61 64 64 69  |lly receive addi|
< 00004c70  74 69 6f 6e 73 20 61 6e  64 20 72 65 6d 6f 76 61  |tions and remova|
< 00004c80  6c 73 20 74 68 61 74 20  74 68 65 79 20 63 61 6e  |ls that they can|
< 00004c90  0a 64 69 73 70 65 72 73  65 20 74 6f 20 74 68 65  |.disperse to the|
< 00004ca0  69 72 20 62 61 63 6b 65  6e 64 73 20 66 6f 72 20  |ir backends for |
< 00004cb0  28 76 69 72 74 75 61 6c  6c 79 29 20 69 6d 6d 65  |(virtually) imme|
< 00004cc0  64 69 61 74 65 20 63 68  61 6e 67 65 73 20 74 6f  |diate changes to|
< 00004cd0  20 61 63 63 65 73 73 20  63 6f 6e 74 72 6f 6c 0a  | access control.|
< 00004ce0  69 6e 20 74 68 65 20 6e  6f 6f 6b 73 20 61 6e 64  |in the nooks and|
< 00004cf0  20 63 72 61 6e 6e 69 65  73 20 6f 66 20 74 68 65  | crannies of the|
< 00004d00  20 49 6e 74 65 72 6e 65  74 57 69 64 65 20 41 72  | InternetWide Ar|
< 00004d10  63 68 69 74 65 63 74 75  72 65 2e 20 20 53 75 63  |chitecture.  Suc|
< 00004d20  68 20 66 61 73 74 20 75  70 64 61 74 65 73 0a 61  |h fast updates.a|
< 00004d30  72 65 20 68 65 6c 70 66  75 6c 20 77 68 65 6e 20  |re helpful when |
< 00004d40  70 65 72 6d 69 73 73 69  6f 6e 73 20 6d 75 73 74  |permissions must|
< 00004d50  20 62 65 20 72 65 74 72  61 63 74 65 64 20 61 73  | be retracted as|
< 00004d60  20 66 61 73 74 20 61 73  20 70 6f 73 73 69 62 6c  | fast as possibl|
< 00004d70  65 2e 0a 0a 53 69 6d 69  6c 61 72 20 71 75 65 72  |e...Similar quer|
< 00004d80  69 65 73 20 63 61 6e 20  62 65 20 6d 61 64 65 20  |ies can be made |
< 00004d90  69 6e 20 6f 74 68 65 72  20 6c 61 6e 67 75 61 67  |in other languag|
< 00004da0  65 73 2e 20 20 54 68 65  20 65 78 61 6d 70 6c 65  |es.  The example|
< 00004db0  20 67 69 76 65 6e 20 69  73 20 66 6f 72 0a 71 75  | given is for.qu|
< 00004dc0  65 72 79 69 6e 67 20 41  43 4c 20 69 6e 73 74 61  |erying ACL insta|
< 00004dd0  6e 63 65 73 2c 20 77 68  69 63 68 20 69 6e 20 74  |nces, which in t|
< 00004de0  65 72 6d 73 20 6f 66 20  52 65 73 65 72 76 6f 69  |erms of Reservoi|
< 00004df0  72 20 61 72 65 20 52 65  73 6f 75 72 63 65 20 43  |r are Resource C|
< 00004e00  6f 6c 6c 65 63 74 69 6f  6e 73 0a 61 73 20 74 68  |ollections.as th|
< 00004e10  65 79 20 64 65 66 69 6e  65 20 69 6e 64 69 76 69  |ey define indivi|
< 00004e20  64 75 61 6c 20 41 43 4c  20 73 65 74 75 70 73 2e  |dual ACL setups.|
< 00004e30  20 20 49 66 20 79 6f 75  20 77 65 72 65 20 74 6f  |  If you were to|
< 00004e40  20 70 72 6f 67 72 61 6d  20 74 6f 6f 6c 69 6e 67  | program tooling|
< 00004e50  20 74 6f 0a 65 78 74 72  61 63 74 20 74 68 69 73  | to.extract this|
< 00004e60  20 69 6e 66 6f 72 6d 61  74 69 6f 6e 20 66 6f 72  | information for|
< 00004e70  20 6d 61 6e 61 67 65 6d  65 6e 74 20 70 75 72 70  | management purp|
< 00004e80  6f 73 65 73 20 63 6f 76  65 72 69 6e 67 20 61 6c  |oses covering al|
< 00004e90  6c 20 64 6f 6d 61 69 6e  73 2c 20 79 6f 75 0a 6d  |l domains, you.m|
< 00004ea0  69 67 68 74 20 77 61 6e  74 20 74 6f 20 62 65 20  |ight want to be |
< 00004eb0  61 20 62 69 74 20 6d 6f  72 65 20 67 65 6e 65 72  |a bit more gener|
< 00004ec0  61 6c 2c 20 61 6e 64 20  73 61 79 0a 0a 60 60 60  |al, and say..```|
< 00004ed0  0a 73 68 65 6c 6c 24 20  6c 64 61 70 73 65 61 72  |.shell$ ldapsear|
< 00004ee0  63 68 20 2d 48 20 6c 64  61 70 69 3a 2f 2f 25 32  |ch -H ldapi://%2|
< 00004ef0  66 74 6d 70 25 32 66 6c  64 61 70 2d 73 6f 63 6b  |ftmp%2fldap-sock|
< 00004f00  65 74 20 5c 0a 09 2d 59  20 67 73 73 61 70 69 20  |et \..-Y gssapi |
< 00004f10  5c 0a 09 2d 62 20 6f 75  3d 52 65 73 65 72 76 6f  |\..-b ou=Reservo|
< 00004f20  69 72 2c 6f 3d 61 72 70  61 32 2e 6e 65 74 2c 6f  |ir,o=arpa2.net,o|
< 00004f30  75 3d 49 6e 74 65 72 6e  65 74 57 69 64 65 20 5c  |u=InternetWide \|
< 00004f40  0a 09 27 28 26 28 6f 62  6a 65 63 74 43 6c 61 73  |..'(&(objectClas|
< 00004f50  73 3d 61 63 63 65 73 73  43 6f 6e 74 72 6f 6c 6c  |s=accessControll|
< 00004f60  65 64 4f 62 6a 65 63 74  29 28 6f 62 6a 65 63 74  |edObject)(object|
< 00004f70  43 6c 61 73 73 3d 72 65  73 6f 75 72 63 65 49 6e  |Class=resourceIn|
< 00004f80  73 74 61 6e 63 65 4f 62  6a 65 63 74 29 29 27 20  |stanceObject))' |
< 00004f90  5c 0a 09 72 65 73 6f 75  72 63 65 43 6c 61 73 73  |\..resourceClass|
< 00004fa0  20 72 65 73 6f 75 72 63  65 49 6e 73 74 61 6e 63  | resourceInstanc|
< 00004fb0  65 20 61 63 63 65 73 73  43 6f 6e 74 72 6f 6c 4c  |e accessControlL|
< 00004fc0  69 73 74 0a 60 60 60 0a  0a 49 66 20 79 6f 75 20  |ist.```..If you |
< 00004fd0  77 61 6e 74 65 64 20 74  6f 20 61 64 64 72 65 73  |wanted to addres|
< 00004fe0  73 20 41 43 4c 20 69 6e  73 74 61 6e 63 65 73 20  |s ACL instances |
< 00004ff0  69 6e 20 67 65 6e 65 72  61 6c 2c 20 79 6f 75 20  |in general, you |
< 00005000  63 6f 75 6c 64 20 75 73  65 0a 0a 60 60 60 0a 73  |could use..```.s|
< 00005010  68 65 6c 6c 24 20 6c 64  61 70 73 65 61 72 63 68  |hell$ ldapsearch|
< 00005020  20 2d 48 20 6c 64 61 70  69 3a 2f 2f 25 32 66 74  | -H ldapi://%2ft|
< 00005030  6d 70 25 32 66 6c 64 61  70 2d 73 6f 63 6b 65 74  |mp%2fldap-socket|
< 00005040  20 5c 0a 09 2d 59 20 67  73 73 61 70 69 20 5c 0a  | \..-Y gssapi \.|
< 00005050  09 2d 62 20 6f 75 3d 49  6e 74 65 72 6e 65 74 57  |.-b ou=InternetW|
< 00005060  69 64 65 20 5c 0a 09 27  28 26 28 6f 62 6a 65 63  |ide \..'(&(objec|
< 00005070  74 43 6c 61 73 73 3d 61  63 63 65 73 73 43 6f 6e  |tClass=accessCon|
< 00005080  74 72 6f 6c 6c 65 64 4f  62 6a 65 63 74 29 28 6f  |trolledObject)(o|
< 00005090  62 6a 65 63 74 43 6c 61  73 73 3d 72 65 73 6f 75  |bjectClass=resou|
< 000050a0  72 63 65 49 6e 73 74 61  6e 63 65 4f 62 6a 65 63  |rceInstanceObjec|
< 000050b0  74 29 29 27 20 5c 0a 09  72 65 73 6f 75 72 63 65  |t))' \..resource|
< 000050c0  43 6c 61 73 73 20 72 65  73 6f 75 72 63 65 49 6e  |Class resourceIn|
< 000050d0  73 74 61 6e 63 65 20 61  63 63 65 73 73 43 6f 6e  |stance accessCon|
< 000050e0  74 72 6f 6c 4c 69 73 74  0a 60 60 60 0a 0a 53 69  |trolList.```..Si|
< 000050f0  6d 69 6c 61 72 6c 79 2c  20 66 6f 72 20 41 43 4c  |milarly, for ACL|
< 00005100  20 63 6c 61 73 73 65 73  20 63 6f 76 65 72 69 6e  | classes coverin|
< 00005110  67 20 6d 61 6e 79 20 61  70 70 6c 69 63 61 74 69  |g many applicati|
< 00005120  6f 6e 73 20 79 6f 75 20  63 6f 75 6c 64 20 75 73  |ons you could us|
< 00005130  65 0a 0a 60 60 60 0a 73  68 65 6c 6c 24 20 6c 64  |e..```.shell$ ld|
< 00005140  61 70 73 65 61 72 63 68  20 2d 48 20 6c 64 61 70  |apsearch -H ldap|
< 00005150  69 3a 2f 2f 25 32 66 74  6d 70 25 32 66 6c 64 61  |i://%2ftmp%2flda|
< 00005160  70 2d 73 6f 63 6b 65 74  20 5c 0a 09 2d 59 20 67  |p-socket \..-Y g|
< 00005170  73 73 61 70 69 20 5c 0a  09 2d 62 20 6f 75 3d 49  |ssapi \..-b ou=I|
< 00005180  6e 74 65 72 6e 65 74 57  69 64 65 20 5c 0a 09 27  |nternetWide \..'|
< 00005190  28 26 28 6f 62 6a 65 63  74 43 6c 61 73 73 3d 61  |(&(objectClass=a|
< 000051a0  63 63 65 73 73 43 6f 6e  74 72 6f 6c 6c 65 64 4f  |ccessControlledO|
< 000051b0  62 6a 65 63 74 29 28 6f  62 6a 65 63 74 43 6c 61  |bject)(objectCla|
< 000051c0  73 73 3d 72 65 73 6f 75  72 63 65 43 6c 61 73 73  |ss=resourceClass|
< 000051d0  4f 62 6a 65 63 74 29 29  27 20 5c 0a 09 72 65 73  |Object))' \..res|
< 000051e0  6f 75 72 63 65 43 6c 61  73 73 20 61 63 63 65 73  |ourceClass acces|
< 000051f0  73 43 6f 6e 74 72 6f 6c  4c 69 73 74 0a 60 60 60  |sControlList.```|
< 00005200  0a 0a 41 6e 64 20 66 69  6e 61 6c 6c 79 2c 20 43  |..And finally, C|
< 00005210  6f 6d 6d 75 6e 69 63 61  74 69 6f 6e 20 41 43 4c  |ommunication ACL|
< 00005220  20 65 6e 74 72 69 65 73  20 77 6f 75 6c 64 20 61  | entries would a|
< 00005230  6c 6c 20 62 65 20 70 61  72 74 20 6f 66 20 49 64  |ll be part of Id|
< 00005240  65 6e 74 69 74 79 48 75  62 2c 20 61 6e 64 20 63  |entityHub, and c|
< 00005250  6f 75 6c 64 0a 62 65 20  66 6f 75 6e 64 20 75 73  |ould.be found us|
< 00005260  69 6e 67 20 73 6f 6d 65  74 68 69 6e 67 20 6c 69  |ing something li|
< 00005270  6b 65 0a 0a 60 60 60 0a  73 68 65 6c 6c 24 20 6c  |ke..```.shell$ l|
< 00005280  64 61 70 73 65 61 72 63  68 20 2d 48 20 6c 64 61  |dapsearch -H lda|
< 00005290  70 69 3a 2f 2f 25 32 66  74 6d 70 25 32 66 6c 64  |pi://%2ftmp%2fld|
< 000052a0  61 70 2d 73 6f 63 6b 65  74 20 5c 0a 09 2d 59 20  |ap-socket \..-Y |
< 000052b0  67 73 73 61 70 69 20 5c  0a 09 2d 62 20 6f 75 3d  |gssapi \..-b ou=|
< 000052c0  49 64 65 6e 74 69 74 79  48 75 62 2c 6f 3d 61 72  |IdentityHub,o=ar|
< 000052d0  70 61 32 2e 6e 65 74 2c  6f 75 3d 49 6e 74 65 72  |pa2.net,ou=Inter|
< 000052e0  6e 65 74 57 69 64 65 20  5c 0a 09 27 28 26 28 6f  |netWide \..'(&(o|
< 000052f0  62 6a 65 63 74 43 6c 61  73 73 3d 61 63 63 65 73  |bjectClass=acces|
< 00005300  73 43 6f 6e 74 72 6f 6c  6c 65 64 4f 62 6a 65 63  |sControlledObjec|
< 00005310  74 29 28 7c 28 6f 62 6a  65 63 74 43 6c 61 73 73  |t)(|(objectClass|
< 00005320  3d 69 64 65 6e 74 69 74  79 48 75 62 55 73 65 72  |=identityHubUser|
< 00005330  29 28 6f 62 6a 65 63 74  43 6c 61 73 73 3d 69 64  |)(objectClass=id|
< 00005340  65 6e 74 69 74 79 48 75  62 47 72 6f 75 70 29 28  |entityHubGroup)(|
< 00005350  6f 62 6a 65 63 74 43 6c  61 73 73 3d 69 64 65 6e  |objectClass=iden|
< 00005360  74 69 74 79 48 75 62 52  6f 6c 65 29 29 27 20 5c  |tityHubRole))' \|
< 00005370  0a 09 61 63 63 65 73 73  43 6f 6e 74 72 6f 6c 4c  |..accessControlL|
< 00005380  69 73 74 20 75 69 64 20  75 69 64 41 6c 69 61 73  |ist uid uidAlias|
< 00005390  20 75 69 64 50 73 65 75  64 6f 6e 79 6d 20 75 69  | uidPseudonym ui|
< 000053a0  64 47 72 6f 75 70 20 75  69 64 52 6f 6c 65 20 75  |dGroup uidRole u|
< 000053b0  69 64 4d 65 6d 62 65 72  20 75 69 64 4f 63 63 75  |idMember uidOccu|
< 000053c0  70 61 6e 74 20 75 69 64  44 65 63 6c 69 6e 65 0a  |pant uidDecline.|
< 000053d0  60 60 60 0a 0a 0a 23 23  20 49 6d 61 67 65 20 55  |```...## Image U|
< 000053e0  70 64 61 74 65 73 0a 0a  57 65 20 63 75 72 72 65  |pdates..We curre|
< 000053f0  6e 74 6c 79 20 65 78 70  65 63 74 20 73 6f 6d 65  |ntly expect some|
< 00005400  20 70 72 65 70 61 72 61  74 69 6f 6e 20 74 6f 20  | preparation to |
< 00005410  62 75 69 6c 64 69 6e 67  2c 20 6e 61 6d 65 6c 79  |building, namely|
< 00005420  20 74 68 65 0a 61 64 64  69 74 69 6f 6e 20 6f 66  | the.addition of|
< 00005430  20 60 72 69 61 6b 5f 32  2e 32 2e 33 2d 31 5f 61  | `riak_2.2.3-1_a|
< 00005440  6d 64 36 34 2e 64 65 62  60 20 69 6e 20 74 68 65  |md64.deb` in the|
< 00005450  20 63 75 72 72 65 6e 74  20 64 69 72 65 63 74 6f  | current directo|
< 00005460  72 79 2e 0a 49 74 20 69  73 20 72 61 74 68 65 72  |ry..It is rather|
< 00005470  20 62 69 67 20 66 6f 72  20 69 6e 63 6c 75 73 69  | big for inclusi|
< 00005480  6f 6e 20 69 6e 20 47 69  74 2c 20 61 6e 64 20 64  |on in Git, and d|
< 00005490  6f 77 6e 6c 6f 61 64 69  6e 67 20 69 74 20 69 73  |ownloading it is|
< 000054a0  0a 61 20 62 69 74 20 6f  66 20 61 20 70 72 6f 62  |.a bit of a prob|
< 000054b0  6c 65 6d 20 67 69 76 65  6e 20 74 68 65 20 64 6f  |lem given the do|
< 000054c0  77 6e 6c 6f 61 64 20 69  6e 66 72 61 73 74 72 75  |wnload infrastru|
< 000054d0  63 74 75 72 65 2e 0a 0a  54 6f 20 75 70 64 61 74  |cture...To updat|
< 000054e0  65 20 74 68 69 73 20 69  6d 61 67 65 2c 20 70 6c  |e this image, pl|
< 000054f0  65 61 73 65 20 62 75 69  6c 64 20 69 74 20 77 69  |ease build it wi|
< 00005500  74 68 20 74 68 65 20 70  75 62 6c 69 63 20 74 61  |th the public ta|
< 00005510  67 20 61 6e 64 0a 70 75  73 68 20 69 74 3a 0a 0a  |g and.push it:..|
< 00005520  60 60 60 0a 64 6f 63 6b  65 72 20 74 61 67 20 72  |```.docker tag r|
< 00005530  76 20 61 72 70 61 32 2f  72 65 73 65 72 76 6f 69  |v arpa2/reservoi|
< 00005540  72 0a 64 6f 63 6b 65 72  20 70 75 73 68 20 61 72  |r.docker push ar|
< 00005550  70 61 32 2f 72 65 73 65  72 76 6f 69 72 0a 60 60  |pa2/reservoir.``|
< 00005560  60 0a 0a 43 6c 65 61 6e  69 6e 67 20 75 70 20 69  |`..Cleaning up i|
< 00005570  73 20 65 61 73 79 20 69  6e 20 64 6f 63 6b 65 72  |s easy in docker|
< 00005580  2c 20 62 75 74 20 61 6c  73 6f 20 6e 65 63 65 73  |, but also neces|
< 00005590  73 61 72 79 20 62 65 63  61 75 73 65 20 6f 66 0a  |sary because of.|
< 000055a0  74 68 65 20 64 61 6e 67  6c 69 6e 67 20 69 6d 61  |the dangling ima|
< 000055b0  67 65 73 20 61 6e 64 20  63 6f 6e 74 61 69 6e 65  |ges and containe|
< 000055c0  72 73 3a 0a 0a 60 60 60  0a 64 6f 63 6b 65 72 20  |rs:..```.docker |
< 000055d0  63 6f 6e 74 61 69 6e 65  72 20 70 72 75 6e 65 0a  |container prune.|
< 000055e0  64 6f 63 6b 65 72 20 69  6d 61 67 65 20 20 20 20  |docker image    |
< 000055f0  20 70 72 75 6e 65 0a 60  60 60 0a 0a 0a

SSH_FXP_DATA, reqid=17
	string len=0x45e0, "# README..."
	NOT PRESENT bool end-of-file


>                                00  00 00 19 05 00 00 00 12  |................|
> 00000160  00 00 00 04 00 00 00 00  00 00 00 00 00 00 45 e0  |..............E.|
> 00000170  00 00 3a 20

SSH_FXP_READ, reqid=18, uint32=4, uint32=0, uint32=0, uint32=0x45e0, uint32=0x3a20

<                                                   00 00 00  | prune.```......|
< 00005600  1c 65 00 00 00 12 00 00  00 01 00 00 00 0b 45 6e  |.e............En|
< 00005610  64 20 6f 66 20 66 69 6c  65 00 00 00 00

SSH_FXP_STATUS, reqid=18, status=1
	mesg string len=11, "End of file"
	lang string len=0, ""


>                       00 00 00 0d  04 00 00 00 13 00 00 00  |..: ............|
> 00000180  04 00 00 00 00                                    |.....|
> 00000185

SSH_FXP_CLOSE, reqid=19, uint32=4, uint32=0

<                                                   00 00 00  |d of file.......|
< 00005620  18 65 00 00 00 13 00 00  00 00 00 00 00 07 53 75  |.e............Su|
< 00005630  63 63 65 73 73 00 00 00  00                       |ccess....|
< 00005639

SSH_FXP_STATUS, reqid=19, status=0
	mesg string len=7, "Success"
	lang string len=0

